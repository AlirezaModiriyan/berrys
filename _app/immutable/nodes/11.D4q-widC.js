import{t as C,a as q,b as Fe,d as Ne}from"../chunks/BiT46uWI.js";import"../chunks/BW1c3hla.js";import{Y as Ye,Z as l,_ as J,k as e,$ as Ee,a0 as Ie,a1 as i,ao as y,u as X,a3 as h,n as me,a2 as n,a4 as ue,l as he}from"../chunks/97xlgdzH.js";import{s as m}from"../chunks/DGDGhjdl.js";import{i as pe}from"../chunks/D6c4gEQW.js";import{e as Ve,i as $e}from"../chunks/Lzn-j-3Q.js";import{h as Pe}from"../chunks/8eL0ySbc.js";import{b,r as _,s as xe}from"../chunks/Bo_DpCPm.js";import{e as w}from"../chunks/Ys9-zu1u.js";import{b as He}from"../chunks/6nXt2AF3.js";import{i as Re}from"../chunks/BOGA1OAU.js";import{o as Be}from"../chunks/DIsGDWuq.js";async function Ue(){try{const v=await fetch("/table_data/vehicle_logging.json");if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);return await v.json()}catch(v){console.error("Error fetching Vehicle Data:",v);const a=new XMLHttpRequest;a.open("GET","table_data/vehicle_logging.json",!0),a.onload=function(){if(a.status===200)try{const f=JSON.parse(a.responseText);resolveConfig(f)}catch(f){console.error("Error parsing JSON:",f),showErrorMessage()}else console.error("XHR error:",a.status),showErrorMessage()},a.onerror=function(){console.error("XHR error occurred"),showErrorMessage()},a.send()}}function Je(v){if(!v)return"";const[a,f,p]=v.split("."),o=new Date(p,a-1,f);if(isNaN(o.getTime()))return v;const c=new Date;if((c-o)/(1e3*60)<=30)return"Just now";if(o.getDate()===c.getDate()&&o.getMonth()===c.getMonth()&&o.getFullYear()===c.getFullYear())return"Today";const j=new Date(c);if(j.setDate(c.getDate()-1),o.getDate()===j.getDate()&&o.getMonth()===j.getMonth()&&o.getFullYear()===j.getFullYear())return"Yesterday";const g=new Date(c);if(g.setDate(c.getDate()-2),o.getDate()===g.getDate()&&o.getMonth()===g.getMonth()&&o.getFullYear()===g.getFullYear())return"Two days ago";const k={year:"numeric",month:"long",day:"numeric"};return o.toLocaleDateString("en-US",k)}function we(){const v=new Date,a={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};document.getElementById("current-datetime").textContent=v.toLocaleDateString("en-US",a)}function Xe(){document.querySelectorAll(".search-fields input").forEach(a=>{const f=a.id+"_"+Math.random().toString(36).substring(2,9);a.setAttribute("name",f),(a.id==="State"||a.id==="Zip"||a.id==="Date"||a.id==="ST-address"||a.id==="City"||a.id==="Fuel")&&(a.setAttribute("autocomplete","new-password"),a.setAttribute("data-lpignore","true"),a.setAttribute("data-form-type","other"))})}var Ge=Fe('<meta charset="UTF-8" class="svelte-jwqfxm"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-jwqfxm"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-jwqfxm"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-jwqfxm"> <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-jwqfxm"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-jwqfxm"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-jwqfxm"><\/script>',1),Oe=C('<tr><td colspan="4" class="details-cell svelte-jwqfxm"><div class="details-header svelte-jwqfxm">Details:</div> <div class="details-content svelte-jwqfxm"> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Trailer No.:</span> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Full Address:</span> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Delivered:</span> <span class="label svelte-jwqfxm">Tank:</span> </div></td></tr>'),Ze=C('<tr><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td></tr> <!>',1),ze=C('<tr class="svelte-jwqfxm"><td colspan="4" style="text-align: center; padding: 20px;" class="svelte-jwqfxm">No results found</td></tr>'),Ke=C('<header class="svelte-jwqfxm"><div class="header-container svelte-jwqfxm"><div class="top-header svelte-jwqfxm"><a class="top-header-link svelte-jwqfxm" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-jwqfxm" href="contact.html">Contact Us</a></div> <div class="header svelte-jwqfxm"><div class="header-background svelte-jwqfxm"></div> <a href="/home" class="svelte-jwqfxm">Home</a> <a href="/inventory" class="svelte-jwqfxm">Inventory</a> <a href="/cross-drops" class="svelte-jwqfxm">Cross-drop</a> <a href="/site-data" class="svelte-jwqfxm">Site Data</a> <a href="/analytics" class="svelte-jwqfxm">Analytics</a> <input type="text" placeholder="Search..." class="svelte-jwqfxm"> <img src="images/Midas_Link_logo.png" alt="Berrys Logo" class="svelte-jwqfxm"></div></div></header> <div class="sub-header-container svelte-jwqfxm"><div class="sub-header svelte-jwqfxm"><h1 class="svelte-jwqfxm">Vehicle Logging</h1> <span class="svelte-jwqfxm">Access key information on each trailer, with real-time access to deliveries,  focusing on trailer ID. See where trailers are located, what they are <br class="svelte-jwqfxm">delivering or a full log on delivery history.</span></div> <div class="breadcrumb svelte-jwqfxm"><a href="/home" class="svelte-jwqfxm">Home</a> / <span class="svelte-jwqfxm">Vehicle Logging</span></div></div> <main class="svelte-jwqfxm"><div class="main-container svelte-jwqfxm"><label for="search-fields" class="search-label svelte-jwqfxm">Search</label> <div class="search-fields svelte-jwqfxm"><label for="ST-address" class="svelte-jwqfxm">Address</label> <input type="text" id="ST-address" name="ST-address" class="svelte-jwqfxm"> <label for="State" class="svelte-jwqfxm">State</label> <input type="text" id="State" name="State" class="svelte-jwqfxm"> <label for="City" class="svelte-jwqfxm">City</label> <input type="text" id="City" name="City" class="svelte-jwqfxm"> <label for="Trailer_No" class="svelte-jwqfxm">Trailer No</label> <input type="text" id="Trailer_No" name="Trailer_No" class="svelte-jwqfxm"> <label for="Date" class="svelte-jwqfxm">Date</label> <input type="text" id="Date" name="Date" placeholder="DD/MM/YYYY" class="svelte-jwqfxm"> <label for="Fuel" class="svelte-jwqfxm">Fuel</label> <input type="text" id="Fuel" name="Fuel" class="svelte-jwqfxm"></div> <div class="button-container svelte-jwqfxm"><button class="search-button svelte-jwqfxm">Search</button> <button class="clear-button svelte-jwqfxm">Clear</button></div> <div class="table-header svelte-jwqfxm"><div class="live-status svelte-jwqfxm"><div class="toggle-live svelte-jwqfxm"><label for="table-type" class="table-type svelte-jwqfxm">LIVE <span class="live-indicator svelte-jwqfxm"></span></label></div> <label for="table-type" class="table-type svelte-jwqfxm"><span id="current-datetime" class="current-time svelte-jwqfxm"></span></label></div> <div class="export-dropdown svelte-jwqfxm"><button class="export-button svelte-jwqfxm">Export As â–¼</button> <div class="dropdown-content svelte-jwqfxm" id="exportDropdown"><a href=" " class="svelte-jwqfxm">CSV</a> <a href=" " class="svelte-jwqfxm">PDF</a></div></div></div> <table class="svelte-jwqfxm"><thead class="svelte-jwqfxm"><tr class="svelte-jwqfxm"><th class="svelte-jwqfxm">Date</th><th class="svelte-jwqfxm">Time</th><th class="svelte-jwqfxm">City</th><th class="svelte-jwqfxm">Vehicle ID</th><th class="svelte-jwqfxm">Prevented Delivery</th></tr></thead><tbody class="svelte-jwqfxm"><!></tbody></table></div></main> <footer class="svelte-jwqfxm"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-jwqfxm"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-jwqfxm">@copyrights Berrys Global Innovations</span> <img src="images/logo.png" alt="Berrys Logo" class="svelte-jwqfxm"></div></footer>',1);function dt(v,a){Ye(a,!1);const f=!0;let p=[],o=X([]),c=X([]),s=X({address:"",state:"",city:"",trailer:"",date:"",fuel:""});function M(t){return t%2===0?"row-even":"row-odd"}function j(){h(o,p.filter(t=>{const r=!e(s).address||t.Address&&t.Address.toLowerCase().includes(e(s).address.toLowerCase()),$=!e(s).state||t.State&&t.State.toLowerCase().includes(e(s).state.toLowerCase()),P=!e(s).city||t.City&&t.City.toLowerCase().includes(e(s).city.toLowerCase()),d=!e(s).trailer||t["Trailer No."]&&t["Trailer No."].toLowerCase().includes(e(s).trailer.toLowerCase()),u=!e(s).date||t.Date&&t.Date.includes(e(s).date),T=!e(s).fuel||t["Prevented Delivery "]&&t["Prevented Delivery "].toLowerCase().includes(e(s).fuel.toLowerCase());return r&&$&&P&&d&&u&&T})),h(c,Array(e(o).length).fill(!1)),O()}function g(){console.log("clearing"),h(s,{address:"",state:"",city:"",trailer:"",date:"",fuel:""}),console.log(e(s)),h(o,[...p]),h(c,Array(e(o).length).fill(!1)),O(!0)}function k(){const t=document.querySelectorAll(".search-fields input");return Array.from(t).some(r=>r.value.trim()!=="")}function G(t){let r=[...e(c)];r[t]=!r[t],h(c,r)}function O(t=!1){const r=document.querySelector(".toggle-live");r&&(!t&&k()?r.style.display="none":r.style.display="block")}Be(async()=>{we(),Xe(),console.log("Starting data fetch");try{const r=await Ue();console.log("Data fetched:",r),p=r,h(o,[...p]),h(c,Array(p.length).fill(!1))}catch(r){console.error("Failed to load data:",r)}const t=setInterval(we,1e3);return()=>{clearInterval(t)}}),Re();var Z=Ke();Pe(t=>{var r=Ge();Ie.title="Vehicle Logging",me(12),q(t,r)});var z=l(J(Z),4),K=i(z),L=l(i(K),2),A=l(i(L),2);_(A);var F=l(A,4);_(F);var N=l(F,4);_(N);var Y=l(N,4);_(Y);var E=l(Y,4);_(E);var Q=l(E,4);_(Q),n(L);var I=l(L,2),W=i(I),je=l(W,2);n(I);var V=l(I,2),ee=l(i(V),2),te=i(ee),se=l(te,2),ae=i(se),ge=l(ae,2);n(se),n(ee),n(V);var le=l(V,2),re=l(i(le)),qe=i(re);{var ye=t=>{var r=Ne(),$=J(r);Ve($,1,()=>e(o),$e,(P,d,u)=>{var T=Ze(),D=J(T),H=i(D),_e=i(H,!0);n(H);var R=l(H),De=i(R,!0);n(R);var B=l(R),Se=i(B,!0);n(B);var U=l(B),Te=i(U,!0);n(U);var oe=l(U),Ce=i(oe,!0);n(oe),n(D);var Me=l(D,2);{var ke=S=>{var x=Oe(),ie=i(x),ne=l(i(ie),2),ce=i(ne),de=l(ce,4),ve=l(de,4),fe=l(ve,4),Le=l(fe,2);n(ne),n(ie),n(x),ue(Ae=>{xe(x,1,`details-row ${Ae??""}`,"svelte-jwqfxm"),m(ce,`${e(d).Date??""} | ${(e(d).Time||"")??""} `),m(de,` ${(e(d)["Trailer No."]||"")??""} `),m(ve,` ${(e(d).Address||"")??""} , ${e(d).City??""} ${e(d).State??""} `),m(fe,` ${(e(d)["Prevented Delivery "]||"")??""} | `),m(Le,` T${(e(d)["Tank No. "]||"")??""}`)},[()=>M(u)],he),w("click",x,()=>G(u)),q(S,x)};pe(Me,S=>{e(c)[u]&&S(ke)})}ue((S,x)=>{xe(D,1,`main-row ${S??""} ${e(c)[u]?"hover-row":""}`,"svelte-jwqfxm"),m(_e,x),m(De,e(d).Time),m(Se,e(d).City),m(Te,e(d)["Trailer No."]),m(Ce,e(d)["Prevented Delivery "])},[()=>M(u),()=>Je(e(d).Date)],he),w("click",D,()=>G(u)),q(P,T)}),q(t,r)},be=t=>{var r=ze();q(t,r)};pe(qe,t=>{e(o).length>0?t(ye):t(be,!1)})}return n(re),n(le),n(K),n(z),me(2),b(A,()=>e(s).address,t=>y(s,e(s).address=t)),b(F,()=>e(s).state,t=>y(s,e(s).state=t)),b(N,()=>e(s).city,t=>y(s,e(s).city=t)),b(Y,()=>e(s).trailer,t=>y(s,e(s).trailer=t)),b(E,()=>e(s).date,t=>y(s,e(s).date=t)),b(Q,()=>e(s).fuel,t=>y(s,e(s).fuel=t)),w("click",W,j),w("click",je,g),w("click",te,toggleDropdown),w("click",ae,exportTableToCSV),w("click",ge,exportTableToPDF),q(v,Z),He(a,"prerender",f),Ee({prerender:f})}export{dt as component};
