import{t as k,a as y,c as Ge,d as Ze}from"../chunks/CocFs6eK.js";import"../chunks/ClARjmOt.js";import{a7 as Ke,f as G,o as e,a8 as Qe,ag as We,s as a,c as r,ay as b,x as Z,ai as h,ah as Se,r as o,af as Te,q as Ce}from"../chunks/DWlsrHwt.js";import{s as f}from"../chunks/Edq7UoV7.js";import{i as Me}from"../chunks/CZ3wgx69.js";import{e as et,i as tt}from"../chunks/Do8ADqC-.js";import{h as st}from"../chunks/DF6SKYI1.js";import{s as p,r as _}from"../chunks/C9a7eXMe.js";import{b as D,s as ke}from"../chunks/snf6WRiT.js";import{e as g}from"../chunks/CR918XBR.js";import{i as at}from"../chunks/CfjprkxD.js";import{o as lt}from"../chunks/BKRSteQH.js";import{b as x}from"../chunks/CJsSHjDA.js";const rt=!0,Tt=Object.freeze(Object.defineProperty({__proto__:null,prerender:rt},Symbol.toStringTag,{value:"Module"}));async function ot(){try{const v=await fetch("/table_data/vehicle_logging.json");if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);return await v.json()}catch(v){console.error("Error fetching Vehicle Data:",v);const l=new XMLHttpRequest;l.open("GET","table_data/vehicle_logging.json",!0),l.onload=function(){if(l.status===200)try{const d=JSON.parse(l.responseText);resolveConfig(d)}catch(d){console.error("Error parsing JSON:",d),showErrorMessage()}else console.error("XHR error:",l.status),showErrorMessage()},l.onerror=function(){console.error("XHR error occurred"),showErrorMessage()},l.send()}}function it(v){if(!v)return"";const[l,d,m]=v.split("."),c=new Date(m,l-1,d);if(isNaN(c.getTime()))return v;const s=new Date;if((s-c)/(1e3*60)<=30)return"Just now";if(c.getDate()===s.getDate()&&c.getMonth()===s.getMonth()&&c.getFullYear()===s.getFullYear())return"Today";const j=new Date(s);if(j.setDate(s.getDate()-1),c.getDate()===j.getDate()&&c.getMonth()===j.getMonth()&&c.getFullYear()===j.getFullYear())return"Yesterday";const q=new Date(s);if(q.setDate(s.getDate()-2),c.getDate()===q.getDate()&&c.getMonth()===q.getMonth()&&c.getFullYear()===q.getFullYear())return"Two days ago";const C={year:"numeric",month:"long",day:"numeric"};return c.toLocaleDateString("en-US",C)}function Le(){const v=new Date,l={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};document.getElementById("current-datetime").textContent=v.toLocaleDateString("en-US",l)}function ct(){document.querySelectorAll(".search-fields input").forEach(l=>{const d=l.id+"_"+Math.random().toString(36).substring(2,9);l.setAttribute("name",d),(l.id==="State"||l.id==="Zip"||l.id==="Date"||l.id==="ST-address"||l.id==="City"||l.id==="Fuel")&&(l.setAttribute("autocomplete","new-password"),l.setAttribute("data-lpignore","true"),l.setAttribute("data-form-type","other"))})}var nt=Ge('<meta charset="UTF-8" class="svelte-jwqfxm"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-jwqfxm"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-jwqfxm"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-jwqfxm"> <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-jwqfxm"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-jwqfxm"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-jwqfxm"><\/script>',1),vt=k('<tr><td colspan="4" class="details-cell svelte-jwqfxm"><div class="details-header svelte-jwqfxm">Details:</div> <div class="details-content svelte-jwqfxm"> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Trailer No.:</span> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Full Address:</span> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Delivered:</span> <span class="label svelte-jwqfxm">Tank:</span> </div></td></tr>'),dt=k('<tr><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td></tr> <!>',1),ft=k('<tr class="svelte-jwqfxm"><td colspan="4" style="text-align: center; padding: 20px;" class="svelte-jwqfxm">No results found</td></tr>'),mt=k('<header class="svelte-jwqfxm"><div class="header-container svelte-jwqfxm"><div class="top-header svelte-jwqfxm"><a class="top-header-link svelte-jwqfxm" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-jwqfxm" href=" ">Contact Us</a></div> <div class="header svelte-jwqfxm"><div class="header-background svelte-jwqfxm"></div> <a class="svelte-jwqfxm">Home</a> <a class="svelte-jwqfxm">Inventory</a> <a class="svelte-jwqfxm">Cross-drop</a> <a class="svelte-jwqfxm">Site Data</a> <a class="svelte-jwqfxm">Analytics</a> <input type="text" placeholder="Search..." class="svelte-jwqfxm"> <img alt="Berrys Logo" class="svelte-jwqfxm"></div></div></header> <div class="sub-header-container svelte-jwqfxm"><div class="sub-header svelte-jwqfxm"><h1 class="svelte-jwqfxm">Vehicle Logging</h1> <span class="svelte-jwqfxm">Access key information on each trailer, with real-time access to deliveries,  focusing on trailer ID. See where trailers are located, what they are <br class="svelte-jwqfxm">delivering or a full log on delivery history.</span></div> <div class="breadcrumb svelte-jwqfxm"><a class="svelte-jwqfxm">Home</a> / <span class="svelte-jwqfxm">Vehicle Logging</span></div></div> <main class="svelte-jwqfxm"><div class="main-container svelte-jwqfxm"><label for="search-fields" class="search-label svelte-jwqfxm">Search</label> <div class="search-fields svelte-jwqfxm"><label for="ST-address" class="svelte-jwqfxm">Address</label> <input type="text" id="ST-address" name="ST-address" class="svelte-jwqfxm"> <label for="State" class="svelte-jwqfxm">State</label> <input type="text" id="State" name="State" class="svelte-jwqfxm"> <label for="City" class="svelte-jwqfxm">City</label> <input type="text" id="City" name="City" class="svelte-jwqfxm"> <label for="Trailer_No" class="svelte-jwqfxm">Trailer No</label> <input type="text" id="Trailer_No" name="Trailer_No" class="svelte-jwqfxm"> <label for="Date" class="svelte-jwqfxm">Date</label> <input type="text" id="Date" name="Date" placeholder="DD/MM/YYYY" class="svelte-jwqfxm"> <label for="Fuel" class="svelte-jwqfxm">Fuel</label> <input type="text" id="Fuel" name="Fuel" class="svelte-jwqfxm"></div> <div class="button-container svelte-jwqfxm"><button class="search-button svelte-jwqfxm">Search</button> <button class="clear-button svelte-jwqfxm">Clear</button></div> <div class="table-header svelte-jwqfxm"><div class="live-status svelte-jwqfxm"><div class="toggle-live svelte-jwqfxm"><label for="table-type" class="table-type svelte-jwqfxm">LIVE <span class="live-indicator svelte-jwqfxm"></span></label></div> <label for="table-type" class="table-type svelte-jwqfxm"><span id="current-datetime" class="current-time svelte-jwqfxm"></span></label></div> <div class="export-dropdown svelte-jwqfxm"><button class="export-button svelte-jwqfxm">Export As â–¼</button> <div class="dropdown-content svelte-jwqfxm" id="exportDropdown"><a href=" " class="svelte-jwqfxm">CSV</a> <a href=" " class="svelte-jwqfxm">PDF</a></div></div></div> <table class="svelte-jwqfxm"><thead class="svelte-jwqfxm"><tr class="svelte-jwqfxm"><th class="svelte-jwqfxm">Date</th><th class="svelte-jwqfxm">Time</th><th class="svelte-jwqfxm">City</th><th class="svelte-jwqfxm">Vehicle ID</th><th class="svelte-jwqfxm">Prevented Delivery</th></tr></thead><tbody class="svelte-jwqfxm"><!></tbody></table></div></main> <footer class="svelte-jwqfxm"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-jwqfxm"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-jwqfxm">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo" class="svelte-jwqfxm"></div></footer>',1);function Ct(v,l){Ke(l,!1);let d=[],m=Z([]),c=Z([]),s=Z({address:"",state:"",city:"",trailer:"",date:"",fuel:""});function L(t){return t%2===0?"row-even":"row-odd"}function K(){h(m,d.filter(t=>{const i=!e(s).address||t.Address&&t.Address.toLowerCase().includes(e(s).address.toLowerCase()),B=!e(s).state||t.State&&t.State.toLowerCase().includes(e(s).state.toLowerCase()),O=!e(s).city||t.City&&t.City.toLowerCase().includes(e(s).city.toLowerCase()),n=!e(s).trailer||t["Trailer No."]&&t["Trailer No."].toLowerCase().includes(e(s).trailer.toLowerCase()),u=!e(s).date||t.Date&&t.Date.includes(e(s).date),M=!e(s).fuel||t["Prevented Delivery "]&&t["Prevented Delivery "].toLowerCase().includes(e(s).fuel.toLowerCase());return i&&B&&O&&n&&u&&M})),h(c,Array(e(m).length).fill(!1)),Q()}function j(){console.log("clearing"),h(s,{address:"",state:"",city:"",trailer:"",date:"",fuel:""}),console.log(e(s)),h(m,[...d]),h(c,Array(e(m).length).fill(!1)),Q(!0)}function q(){const t=document.querySelectorAll(".search-fields input");return Array.from(t).some(i=>i.value.trim()!=="")}function C(t){let i=[...e(c)];i[t]=!i[t],h(c,i)}function Q(t=!1){const i=document.querySelector(".toggle-live");i&&(!t&&q()?i.style.display="none":i.style.display="block")}lt(async()=>{Le(),ct(),console.log("Starting data fetch");try{const i=await ot();console.log("Data fetched:",i),d=i,h(m,[...d]),h(c,Array(d.length).fill(!1))}catch(i){console.error("Failed to load data:",i)}const t=setInterval(Le,1e3);return()=>{clearInterval(t)}}),at();var W=mt();st(t=>{var i=nt();We.title="Vehicle Logging",Se(12),y(t,i)});var A=G(W),ee=r(A),te=a(r(ee),2),se=a(r(te),2);p(se,"href",`${x??""}/home`);var ae=a(se,2);p(ae,"href",`${x??""}/inventory`);var le=a(ae,2);p(le,"href",`${x??""}/cross-drops`);var re=a(le,2);p(re,"href",`${x??""}/site-data`);var oe=a(re,2);p(oe,"href",`${x??""}/analytics`);var Ae=a(oe,4);p(Ae,"src",`${x??""}/images/Midas_Link_logo.png`),o(te),o(ee),o(A);var $=a(A,2),ie=a(r($),2),$e=r(ie);p($e,"href",`${x??""}/home`),Se(2),o(ie),o($);var F=a($,2),ce=r(F),N=a(r(ce),2),E=a(r(N),2);_(E);var I=a(E,4);_(I);var V=a(I,4);_(V);var Y=a(V,4);_(Y);var P=a(Y,4);_(P);var ne=a(P,4);_(ne),o(N);var H=a(N,2),ve=r(H),Fe=a(ve,2);o(H);var R=a(H,2),de=a(r(R),2),fe=r(de),me=a(fe,2),ue=r(me),Ne=a(ue,2);o(me),o(de),o(R);var he=a(R,2),pe=a(r(he)),Ee=r(pe);{var Ie=t=>{var i=Ze(),B=G(i);et(B,1,()=>e(m),tt,(O,n,u)=>{var M=dt(),S=G(M),U=r(S),Pe=r(U,!0);o(U);var J=a(U),He=r(J,!0);o(J);var X=a(J),Re=r(X,!0);o(X);var z=a(X),Be=r(z,!0);o(z);var ge=a(z),Oe=r(ge,!0);o(ge),o(S);var Ue=a(S,2);{var Je=T=>{var w=vt(),je=r(w),qe=a(r(je),2),ye=r(qe),be=a(ye,4),_e=a(be,4),De=a(_e,4),Xe=a(De,2);o(qe),o(je),o(w),Te(ze=>{ke(w,1,`details-row ${ze??""}`,"svelte-jwqfxm"),f(ye,`${e(n).Date??""} | ${(e(n).Time||"")??""} `),f(be,` ${(e(n)["Trailer No."]||"")??""} `),f(_e,` ${(e(n).Address||"")??""} , ${e(n).City??""} ${e(n).State??""} `),f(De,` ${(e(n)["Prevented Delivery "]||"")??""} | `),f(Xe,` T${(e(n)["Tank No. "]||"")??""}`)},[()=>L(u)],Ce),g("click",w,()=>C(u)),y(T,w)};Me(Ue,T=>{e(c)[u]&&T(Je)})}Te((T,w)=>{ke(S,1,`main-row ${T??""} ${e(c)[u]?"hover-row":""}`,"svelte-jwqfxm"),f(Pe,w),f(He,e(n).Time),f(Re,e(n).City),f(Be,e(n)["Trailer No."]),f(Oe,e(n)["Prevented Delivery "])},[()=>L(u),()=>it(e(n).Date)],Ce),g("click",S,()=>C(u)),y(O,M)}),y(t,i)},Ve=t=>{var i=ft();y(t,i)};Me(Ee,t=>{e(m).length>0?t(Ie):t(Ve,!1)})}o(pe),o(he),o(ce),o(F);var xe=a(F,2),we=r(xe),Ye=a(r(we),2);p(Ye,"src",`${x??""}/images/logo.png`),o(we),o(xe),D(E,()=>e(s).address,t=>b(s,e(s).address=t)),D(I,()=>e(s).state,t=>b(s,e(s).state=t)),D(V,()=>e(s).city,t=>b(s,e(s).city=t)),D(Y,()=>e(s).trailer,t=>b(s,e(s).trailer=t)),D(P,()=>e(s).date,t=>b(s,e(s).date=t)),D(ne,()=>e(s).fuel,t=>b(s,e(s).fuel=t)),g("click",ve,K),g("click",Fe,j),g("click",fe,toggleDropdown),g("click",ue,exportTableToCSV),g("click",Ne,exportTableToPDF),y(v,W),Qe()}export{Ct as component,Tt as universal};
