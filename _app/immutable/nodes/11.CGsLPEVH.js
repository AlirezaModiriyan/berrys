import{t as C,a as g,b as Ae,d as Fe}from"../chunks/dn5T25_G.js";import"../chunks/BrwEUfhY.js";import{W as Ne,X as l,Y as U,k as e,Z as Ye,$ as $e,_ as i,an as q,u as X,a1 as h,n as fe,a0 as c,a2 as me,l as ue}from"../chunks/m7Aisenh.js";import{s as f}from"../chunks/CR2Ppqz4.js";import{i as he}from"../chunks/B9vwRuT6.js";import{e as Ee,i as Ie}from"../chunks/CjbzqF3s.js";import{h as Ve}from"../chunks/bHaCq9Ot.js";import{b as y,r as b,s as pe}from"../chunks/DcMbkdSC.js";import{e as x}from"../chunks/BmGaIGZ7.js";import{i as Pe}from"../chunks/DWJkSJoG.js";import{o as He}from"../chunks/zvaxEu6J.js";async function Re(){try{const d=await fetch("/table_data/vehicle_logging.json");if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);return await d.json()}catch(d){console.error("Error fetching Vehicle Data:",d);const a=new XMLHttpRequest;a.open("GET","table_data/vehicle_logging.json",!0),a.onload=function(){if(a.status===200)try{const v=JSON.parse(a.responseText);resolveConfig(v)}catch(v){console.error("Error parsing JSON:",v),showErrorMessage()}else console.error("XHR error:",a.status),showErrorMessage()},a.onerror=function(){console.error("XHR error occurred"),showErrorMessage()},a.send()}}function Be(d){if(!d)return"";const[a,v,m]=d.split("."),o=new Date(m,a-1,v);if(isNaN(o.getTime()))return d;const s=new Date;if((s-o)/(1e3*60)<=30)return"Just now";if(o.getDate()===s.getDate()&&o.getMonth()===s.getMonth()&&o.getFullYear()===s.getFullYear())return"Today";const w=new Date(s);if(w.setDate(s.getDate()-1),o.getDate()===w.getDate()&&o.getMonth()===w.getMonth()&&o.getFullYear()===w.getFullYear())return"Yesterday";const j=new Date(s);if(j.setDate(s.getDate()-2),o.getDate()===j.getDate()&&o.getMonth()===j.getMonth()&&o.getFullYear()===j.getFullYear())return"Two days ago";const S={year:"numeric",month:"long",day:"numeric"};return o.toLocaleDateString("en-US",S)}function xe(){const d=new Date,a={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};document.getElementById("current-datetime").textContent=d.toLocaleDateString("en-US",a)}function Ue(){document.querySelectorAll(".search-fields input").forEach(a=>{const v=a.id+"_"+Math.random().toString(36).substring(2,9);a.setAttribute("name",v),(a.id==="State"||a.id==="Zip"||a.id==="Date"||a.id==="ST-address"||a.id==="City"||a.id==="Fuel")&&(a.setAttribute("autocomplete","new-password"),a.setAttribute("data-lpignore","true"),a.setAttribute("data-form-type","other"))})}var Xe=Ae('<meta charset="UTF-8" class="svelte-jwqfxm"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-jwqfxm"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-jwqfxm"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-jwqfxm"> <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-jwqfxm"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-jwqfxm"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-jwqfxm"><\/script>',1),Je=C('<tr><td colspan="4" class="details-cell svelte-jwqfxm"><div class="details-header svelte-jwqfxm">Details:</div> <div class="details-content svelte-jwqfxm"> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Trailer No.:</span> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Full Address:</span> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Delivered:</span> <span class="label svelte-jwqfxm">Tank:</span> </div></td></tr>'),Ge=C('<tr><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td></tr> <!>',1),Oe=C('<tr class="svelte-jwqfxm"><td colspan="4" style="text-align: center; padding: 20px;" class="svelte-jwqfxm">No results found</td></tr>'),Ze=C('<header class="svelte-jwqfxm"><div class="header-container svelte-jwqfxm"><div class="top-header svelte-jwqfxm"><a class="top-header-link svelte-jwqfxm" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-jwqfxm" href="contact.html">Contact Us</a></div> <div class="header svelte-jwqfxm"><div class="header-background svelte-jwqfxm"></div> <a href="/home" class="svelte-jwqfxm">Home</a> <a href="/inventory" class="svelte-jwqfxm">Inventory</a> <a href="/cross-drops" class="svelte-jwqfxm">Cross-drop</a> <a href="/site-data" class="svelte-jwqfxm">Site Data</a> <a href="/analytics" class="svelte-jwqfxm">Analytics</a> <input type="text" placeholder="Search..." class="svelte-jwqfxm"> <img src="images/Midas_Link_logo.png" alt="Berrys Logo" class="svelte-jwqfxm"></div></div></header> <div class="sub-header-container svelte-jwqfxm"><div class="sub-header svelte-jwqfxm"><h1 class="svelte-jwqfxm">Vehicle Logging</h1> <span class="svelte-jwqfxm">Access key information on each trailer, with real-time access to deliveries,  focusing on trailer ID. See where trailers are located, what they are <br class="svelte-jwqfxm">delivering or a full log on delivery history.</span></div> <div class="breadcrumb svelte-jwqfxm"><a href="/home" class="svelte-jwqfxm">Home</a> / <span class="svelte-jwqfxm">Vehicle Logging</span></div></div> <main class="svelte-jwqfxm"><div class="main-container svelte-jwqfxm"><label for="search-fields" class="search-label svelte-jwqfxm">Search</label> <div class="search-fields svelte-jwqfxm"><label for="ST-address" class="svelte-jwqfxm">Address</label> <input type="text" id="ST-address" name="ST-address" class="svelte-jwqfxm"> <label for="State" class="svelte-jwqfxm">State</label> <input type="text" id="State" name="State" class="svelte-jwqfxm"> <label for="City" class="svelte-jwqfxm">City</label> <input type="text" id="City" name="City" class="svelte-jwqfxm"> <label for="Trailer_No" class="svelte-jwqfxm">Trailer No</label> <input type="text" id="Trailer_No" name="Trailer_No" class="svelte-jwqfxm"> <label for="Date" class="svelte-jwqfxm">Date</label> <input type="text" id="Date" name="Date" placeholder="DD/MM/YYYY" class="svelte-jwqfxm"> <label for="Fuel" class="svelte-jwqfxm">Fuel</label> <input type="text" id="Fuel" name="Fuel" class="svelte-jwqfxm"></div> <div class="button-container svelte-jwqfxm"><button class="search-button svelte-jwqfxm">Search</button> <button class="clear-button svelte-jwqfxm">Clear</button></div> <div class="table-header svelte-jwqfxm"><div class="live-status svelte-jwqfxm"><div class="toggle-live svelte-jwqfxm"><label for="table-type" class="table-type svelte-jwqfxm">LIVE <span class="live-indicator svelte-jwqfxm"></span></label></div> <label for="table-type" class="table-type svelte-jwqfxm"><span id="current-datetime" class="current-time svelte-jwqfxm"></span></label></div> <div class="export-dropdown svelte-jwqfxm"><button class="export-button svelte-jwqfxm">Export As â–¼</button> <div class="dropdown-content svelte-jwqfxm" id="exportDropdown"><a href=" " class="svelte-jwqfxm">CSV</a> <a href=" " class="svelte-jwqfxm">PDF</a></div></div></div> <table class="svelte-jwqfxm"><thead class="svelte-jwqfxm"><tr class="svelte-jwqfxm"><th class="svelte-jwqfxm">Date</th><th class="svelte-jwqfxm">Time</th><th class="svelte-jwqfxm">City</th><th class="svelte-jwqfxm">Vehicle ID</th><th class="svelte-jwqfxm">Prevented Delivery</th></tr></thead><tbody class="svelte-jwqfxm"><!></tbody></table></div></main> <footer class="svelte-jwqfxm"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-jwqfxm"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-jwqfxm">@copyrights Berrys Global Innovations</span> <img src="images/logo.png" alt="Berrys Logo" class="svelte-jwqfxm"></div></footer>',1);function it(d,a){Ne(a,!1);let v=[],m=X([]),o=X([]),s=X({address:"",state:"",city:"",trailer:"",date:"",fuel:""});function M(t){return t%2===0?"row-even":"row-odd"}function J(){h(m,v.filter(t=>{const r=!e(s).address||t.Address&&t.Address.toLowerCase().includes(e(s).address.toLowerCase()),I=!e(s).state||t.State&&t.State.toLowerCase().includes(e(s).state.toLowerCase()),V=!e(s).city||t.City&&t.City.toLowerCase().includes(e(s).city.toLowerCase()),n=!e(s).trailer||t["Trailer No."]&&t["Trailer No."].toLowerCase().includes(e(s).trailer.toLowerCase()),u=!e(s).date||t.Date&&t.Date.includes(e(s).date),T=!e(s).fuel||t["Prevented Delivery "]&&t["Prevented Delivery "].toLowerCase().includes(e(s).fuel.toLowerCase());return r&&I&&V&&n&&u&&T})),h(o,Array(e(m).length).fill(!1)),G()}function w(){console.log("clearing"),h(s,{address:"",state:"",city:"",trailer:"",date:"",fuel:""}),console.log(e(s)),h(m,[...v]),h(o,Array(e(m).length).fill(!1)),G(!0)}function j(){const t=document.querySelectorAll(".search-fields input");return Array.from(t).some(r=>r.value.trim()!=="")}function S(t){let r=[...e(o)];r[t]=!r[t],h(o,r)}function G(t=!1){const r=document.querySelector(".toggle-live");r&&(!t&&j()?r.style.display="none":r.style.display="block")}He(async()=>{xe(),Ue(),console.log("Starting data fetch");try{const r=await Re();console.log("Data fetched:",r),v=r,h(m,[...v]),h(o,Array(v.length).fill(!1))}catch(r){console.error("Failed to load data:",r)}const t=setInterval(xe,1e3);return()=>{clearInterval(t)}}),Pe();var O=Ze();Ve(t=>{var r=Xe();$e.title="Vehicle Logging",fe(12),g(t,r)});var Z=l(U(O),4),z=i(Z),k=l(i(z),2),L=l(i(k),2);b(L);var A=l(L,4);b(A);var F=l(A,4);b(F);var N=l(F,4);b(N);var Y=l(N,4);b(Y);var W=l(Y,4);b(W),c(k);var $=l(k,2),K=i($),we=l(K,2);c($);var E=l($,2),Q=l(i(E),2),ee=i(Q),te=l(ee,2),se=i(te),je=l(se,2);c(te),c(Q),c(E);var ae=l(E,2),le=l(i(ae)),ge=i(le);{var qe=t=>{var r=Fe(),I=U(r);Ee(I,1,()=>e(m),Ie,(V,n,u)=>{var T=Ge(),_=U(T),P=i(_),be=i(P,!0);c(P);var H=l(P),_e=i(H,!0);c(H);var R=l(H),De=i(R,!0);c(R);var B=l(R),Se=i(B,!0);c(B);var re=l(B),Te=i(re,!0);c(re),c(_);var Ce=l(_,2);{var Me=D=>{var p=Je(),oe=i(p),ie=l(i(oe),2),ce=i(ie),ne=l(ce,4),de=l(ne,4),ve=l(de,4),ke=l(ve,2);c(ie),c(oe),c(p),me(Le=>{pe(p,1,`details-row ${Le??""}`,"svelte-jwqfxm"),f(ce,`${e(n).Date??""} | ${(e(n).Time||"")??""} `),f(ne,` ${(e(n)["Trailer No."]||"")??""} `),f(de,` ${(e(n).Address||"")??""} , ${e(n).City??""} ${e(n).State??""} `),f(ve,` ${(e(n)["Prevented Delivery "]||"")??""} | `),f(ke,` T${(e(n)["Tank No. "]||"")??""}`)},[()=>M(u)],ue),x("click",p,()=>S(u)),g(D,p)};he(Ce,D=>{e(o)[u]&&D(Me)})}me((D,p)=>{pe(_,1,`main-row ${D??""} ${e(o)[u]?"hover-row":""}`,"svelte-jwqfxm"),f(be,p),f(_e,e(n).Time),f(De,e(n).City),f(Se,e(n)["Trailer No."]),f(Te,e(n)["Prevented Delivery "])},[()=>M(u),()=>Be(e(n).Date)],ue),x("click",_,()=>S(u)),g(V,T)}),g(t,r)},ye=t=>{var r=Oe();g(t,r)};he(ge,t=>{e(m).length>0?t(qe):t(ye,!1)})}c(le),c(ae),c(z),c(Z),fe(2),y(L,()=>e(s).address,t=>q(s,e(s).address=t)),y(A,()=>e(s).state,t=>q(s,e(s).state=t)),y(F,()=>e(s).city,t=>q(s,e(s).city=t)),y(N,()=>e(s).trailer,t=>q(s,e(s).trailer=t)),y(Y,()=>e(s).date,t=>q(s,e(s).date=t)),y(W,()=>e(s).fuel,t=>q(s,e(s).fuel=t)),x("click",K,J),x("click",we,w),x("click",ee,toggleDropdown),x("click",se,exportTableToCSV),x("click",je,exportTableToPDF),g(d,O),Ye()}export{it as component};
