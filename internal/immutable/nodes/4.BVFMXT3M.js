import{t as x,a as w,c as Yt,d as zt}from"../chunks/3_qBB5hz.js";import"../chunks/Z9zBgBAY.js";import{W as Et,m as $,ao as ue,ap as Y,Y as Tt,c as r,w as pe,o as t,aJ as qt,r as l,aq as a,l as p,at as Wt,au as Ae,aK as ee}from"../chunks/CMFmae-t.js";import{s as v}from"../chunks/DnaU8b9l.js";import{i as Ce}from"../chunks/BJKpdqZD.js";import{e as je,i as Be}from"../chunks/Cj7RaS5_.js";import{h as Ut}from"../chunks/BQXnkVNR.js";import{s as _,c as Zt,b as ge,r as me,a as Jt}from"../chunks/BvlNnonT.js";import{e as u}from"../chunks/D44X9R_d.js";import{b as fe,a as Nt,c as Kt}from"../chunks/BqnV01kF.js";import{p as _t}from"../chunks/CWmzcjye.js";import{i as wt}from"../chunks/CwxruISI.js";import{o as Qt}from"../chunks/NS6W2iqr.js";import{g as ea}from"../chunks/BVx4_YPo.js";import{b as f}from"../chunks/D0IgyBIZ.js";import{g as ta}from"../chunks/B8Sp4gP0.js";import{p as aa}from"../chunks/DI-LCOjJ.js";import{l as Dt,p as te,b as sa}from"../chunks/N765AcLg.js";const ia=!0,$a=Object.freeze(Object.defineProperty({__proto__:null,prerender:ia},Symbol.toStringTag,{value:"Module"})),la=[{date:"09.12.2025",time:"12:16",address:"2151 SW 36TH ST",city:"San Antonio",state:"TX",zip:"78237",tankGrade:"Diesel #2",tankNo:"1",preventedDelivery:"GASOLINE"},{date:"09.01.2025",time:"9:04",address:"207 E HWY 90A",city:"Richmond",state:"TX",zip:"77406",tankGrade:"Diesel #2",tankNo:"1",preventedDelivery:"GASOLINE"},{date:"08.14.2025",time:"5:52",address:"619 CROSSROADS ST",city:"Laredo",state:"TX",zip:"78045",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"6",preventedDelivery:"DIESEL"},{date:"07.09.2025",time:"2:40",address:"2901 highway 35 N",city:"Rockport",state:"TX",zip:"78382",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"4",preventedDelivery:"DIESEL"},{date:"06.30.2025",time:"23:28",address:"6321 S 23rd St.",city:"McAllen",state:"TX",zip:"78503",tankGrade:"Diesel #2",tankNo:"2",preventedDelivery:"GASOLINE"},{date:"06.24.2025",time:"20:16",address:"6321 S 23rd St.",city:"McAllen",state:"TX",zip:"78503",tankGrade:"Diesel #2",tankNo:"4",preventedDelivery:"GASOLINE"},{date:"06.03.2025",time:"17:04",address:"11102 IH-37 Access",city:"Corpus Christi",state:"TX",zip:"78401",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"05.19.2025",time:"13:52",address:"2202 HOLLY ROAD",city:"Corpus Christi",state:"TX",zip:"78415",tankGrade:"Gas 93 OCTANE 10% ETH 9.0RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"05.14.2025",time:"10:40",address:"9111 N. Interstate 35",city:"Jarrell",state:"TX",zip:"76537",tankGrade:"Gas 93 OCTANE 10% ETH 9.0RVP",tankNo:"7",preventedDelivery:"DIESEL"},{date:"04.23.2025",time:"7:28",address:"16555 HUEBNER RD",city:"San Antonio",state:"TX",zip:"78248",tankGrade:"Gas 93 OCTANE 10% ETH 9.0RVP",tankNo:"3",preventedDelivery:"DIESEL"},{date:"04.22.2025",time:"4:16",address:"1301 N LOOP 340",city:"LACY LAKEVIEW",state:"TX",zip:"76705",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"6",preventedDelivery:"DIESEL"},{date:"04.04.2025",time:"1:04",address:"720 SPRING VALLEY",city:"Hewitt",state:"TX",zip:"76643",tankGrade:"Diesel #2",tankNo:"5",preventedDelivery:"GASOLINE"},{date:"02.22.2025",time:"21:52",address:"3225 E EXPY 83",city:"Weslaco",state:"TX",zip:"78596",tankGrade:"Diesel #2",tankNo:"4",preventedDelivery:"GASOLINE"},{date:"02.11.2025",time:"18:40",address:"101 N WATER ST",city:"Burnet",state:"TX",zip:"78611",tankGrade:"GAS 91 NO ETH 9.0 RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"01.29.2025",time:"15:28",address:"S. 9th & Tyler Ave.",city:"Harlingen",state:"TX",zip:"78550",tankGrade:"Diesel #2",tankNo:"2",preventedDelivery:"GASOLINE"},{date:"01.18.2025",time:"12:16",address:"S. 9th & Tyler Ave.",city:"Harlingen",state:"TX",zip:"78550",tankGrade:"High Ethanol ",tankNo:"4",preventedDelivery:"DIESEL"},{date:"01.12.2025",time:"9:04",address:"15513 STATE HWY 30",city:"Roans Prairie",state:"TX",zip:"77875",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"4",preventedDelivery:"DIESEL"},{date:"01.03.2025",time:"5:52",address:"5202 IH 37",city:"Corpus Christi",state:"TX",zip:"78407",tankGrade:"Gas 93 OCTANE 10% ETH 9.0RVP",tankNo:"4",preventedDelivery:"DIESEL"},{date:"12.22.2024",time:"2:40",address:"12200 FM 969 RD",city:"Austin",state:"TX",zip:"78724",tankGrade:"Diesel #2",tankNo:"5",preventedDelivery:"GASOLINE"},{date:"12.21.2024",time:"23:28",address:"905 N. McCoy Blvd.",city:"New Boston",state:"TX",zip:"75570",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"4",preventedDelivery:"DIESEL"},{date:"12.13.2024",time:"20:16",address:"101 EE OHNMEISS BLVD",city:"Lampasas",state:"TX",zip:"76550",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"5",preventedDelivery:"DIESEL"},{date:"12.02.2024",time:"17:04",address:"16222 WALLISVILLE RD",city:"Houston",state:"TX",zip:"77001",tankGrade:"Diesel #2",tankNo:"5",preventedDelivery:"GASOLINE"},{date:"11.09.2024",time:"13:52",address:"27137 TOMBALL PKWY",city:"Tomball",state:"TX",zip:"77375",tankGrade:"Diesel #2",tankNo:"5",preventedDelivery:"GASOLINE"},{date:"10.30.2024",time:"10:40",address:"6406 Old Pearsall Rd",city:"San Antonio",state:"TX",zip:"78252",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"09.09.2024",time:"7:28",address:"21997 FM 1314",city:"Porter",state:"TX",zip:"77365",tankGrade:"High Ethanol ",tankNo:"5",preventedDelivery:"DIESEL"},{date:"08.10.2024",time:"4:16",address:"9157 FM 471 N",city:"San Antonio",state:"TX",zip:"78253",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"06.28.2024",time:"1:04",address:"10537 N. Hwy. 359",city:"Mathis",state:"TX",zip:"78368",tankGrade:"Diesel #2",tankNo:"4",preventedDelivery:"GASOLINE"},{date:"05.01.2024",time:"21:52",address:"1303 W MOUNT HOUSTON RD",city:"Houston",state:"TX",zip:"77001",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"4",preventedDelivery:"DIESEL"},{date:"04.28.2024",time:"18:40",address:"31700 INTERSTATE 10 W",city:"Boerne",state:"TX",zip:"78006",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"4",preventedDelivery:"DIESEL"}];function kt(){document.querySelectorAll(".search-fields input").forEach(d=>{const q=d.id+"_"+Math.random().toString(36).substring(2,9);d.setAttribute("name",q),(d.id==="State"||d.id==="Zip"||d.id==="Date"||d.id==="ST-address"||d.id==="City"||d.id==="Fuel")&&(d.setAttribute("autocomplete","new-password"),d.setAttribute("data-lpignore","true"),d.setAttribute("data-form-type","other"))})}async function ra(){return la}var na=x('<div class="dropdown-item svelte-1o6jmi1"> </div>'),oa=x('<label> </label> <div class="custom-dropdown svelte-1o6jmi1"><div class="input-wrapper svelte-1o6jmi1"><input> <div class="dropdown-arrow svelte-1o6jmi1"></div></div> <div></div></div>',1);function St(ye,d){const q=Dt(d,["children","$$slots","$$events","$$legacy"]),he=Dt(q,["prerender","id","label","placeholder","options","value","onChange"]);Et(d,!1);let be=te(d,"id",8,""),W=te(d,"label",8,""),ze=te(d,"placeholder",8,"Select or type"),H=te(d,"options",24,()=>[]),ae=te(d,"value",12,""),Ge=te(d,"onChange",8,()=>{});const A=!0;let y=$(!1),k=$(),n=$([...H()]);function se(){p(y,!t(y)),t(y)&&p(n,[...H()])}function G(g){ae(g),Ge()(g),p(y,!1)}function Ie(){const g=ae().toLowerCase();p(n,H().filter(X=>X.toLowerCase().includes(g))),p(y,!0)}function ie(g){t(k)&&!t(k).contains(g.target)&&p(y,!1)}function le(g){g.stopPropagation(),p(n,[...H()]),se()}wt();var M=oa();u("click",qt,ie);var V=ue(M),Oe=r(V,!0);l(V);var re=a(V,2),ne=r(re),I=r(ne);me(I);let oe;var _e=a(I,2);l(ne);var U=a(ne,2);let Z;return je(U,5,()=>t(n),Be,(g,X)=>{var j=na(),De=r(j,!0);l(j),Y(()=>v(De,t(X))),u("click",j,()=>G(t(X))),w(g,j)}),l(U),l(re),sa(re,g=>p(k,g),()=>t(k)),Y(g=>{_(V,"for",be()),v(Oe,W()),oe=Zt(I,oe,{id:be(),type:"text",placeholder:ze(),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",...he},"svelte-1o6jmi1"),Z=ge(U,1,"dropdown-content svelte-1o6jmi1",null,Z,g)},[()=>({show:t(y)})],pe),fe(I,ae),u("input",I,Ie),u("focus",I,()=>{p(n,[...H()]),p(y,!0)}),u("keydown",I,function(g){Kt.call(this,d,g)}),u("click",_e,le),w(ye,M),Nt(d,"prerender",A),Tt({prerender:A})}var da=Yt('<script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-uz05gi"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-uz05gi"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-uz05gi"><\/script> <meta charset="UTF-8" class="svelte-uz05gi"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-uz05gi"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-uz05gi"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-uz05gi">',1),ca=x('<tr><td colspan="4" class="details-cell svelte-uz05gi"><div class="details-header svelte-uz05gi">Details:</div> <div class="details-content svelte-uz05gi"> <br class="svelte-uz05gi"> <span class="label svelte-uz05gi">Full Address:</span> <br class="svelte-uz05gi"> <span class="label svelte-uz05gi">Tank Grade:</span> <span class="label svelte-uz05gi">Tank No.:</span> <br class="svelte-uz05gi"> <span class="label svelte-uz05gi">Fuel Prevented:</span> </div></td><td class="svelte-uz05gi"><button class="more-details svelte-uz05gi">See Delivery Details</button></td></tr>'),va=x('<tr><td class="svelte-uz05gi"> </td><td class="svelte-uz05gi"> </td><td class="svelte-uz05gi"> </td><td class="svelte-uz05gi"> </td></tr> <!>',1),ua=x('<tr class="svelte-uz05gi"><td colspan="4" style="text-align: center; padding: 20px;" class="svelte-uz05gi">No results found</td></tr>'),pa=x('<div class="card-details svelte-uz05gi"><hr class="svelte-uz05gi"> <div class="details-header svelte-uz05gi">Details:</div> <div class="details-content svelte-uz05gi"><div class="detail-row svelte-uz05gi"> </div> <div class="detail-row svelte-uz05gi"><span class="label svelte-uz05gi">Full Address:</span> </div> <div class="detail-row svelte-uz05gi"><span class="label svelte-uz05gi">Tank Grade:</span> <span class="label svelte-uz05gi">Tank No:</span> </div> <div class="detail-row svelte-uz05gi"><span class="label svelte-uz05gi">Fuel Prevented:</span> </div> <button class="more-details mobile-details-btn svelte-uz05gi">See Delivery Details</button></div></div>'),ga=x('<div><div class="card-header svelte-uz05gi"><div class="card-item svelte-uz05gi"><span class="card-label svelte-uz05gi"> </span></div> <div class="card-item svelte-uz05gi"><span class="card-value svelte-uz05gi"> </span> <span class="card-value svelte-uz05gi" style="margin-left: 2vw;"> </span> <span class="card-value svelte-uz05gi" style="margin-left: 2vw;"> </span> <span class="card-value svelte-uz05gi" style="position: relative;margin-left:auto"> </span></div></div> <!></div>'),ma=x('<div class="no-results svelte-uz05gi">No results found</div>'),fa=x('<header class="svelte-uz05gi"><div class="header-container svelte-uz05gi"><div class="top-header svelte-uz05gi"><a class="top-header-link svelte-uz05gi" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-uz05gi" href=" ">Contact Us</a></div> <div class="header svelte-uz05gi"><div class="header-background svelte-uz05gi"></div> <div class="hamburger-menu svelte-uz05gi" id="hamburger-menu"><span class="svelte-uz05gi"></span> <span class="svelte-uz05gi"></span> <span class="svelte-uz05gi"></span></div> <a class="svelte-uz05gi">Home</a> <a class="svelte-uz05gi">Inventory</a> <a class="svelte-uz05gi">Vehicle Logging</a> <a class="svelte-uz05gi">Site Data</a> <a class="svelte-uz05gi">Analytics</a> <input type="text" placeholder="Search..." class="svelte-uz05gi"> <img alt="Berrys Logo" class="svelte-uz05gi"></div></div></header> <div class="mobile-sidebar svelte-uz05gi" id="mobile-sidebar"><a class="svelte-uz05gi">Home</a> <a class="svelte-uz05gi">Vehicle Logging</a> <a class="svelte-uz05gi">Cross-Drop Prevention</a> <a class="svelte-uz05gi">Site Data</a> <a class="svelte-uz05gi">Inventory</a> <a class="svelte-uz05gi">Analytics</a> <span class="footer-text svelte-uz05gi">Contact Us <br class="svelte-uz05gi"> Berrys Technologies Ltd 141 Lichfield Road, Birmingham ,  B6 5SP , United Kingdom <br class="svelte-uz05gi"> 0121 558 4411 <br class="svelte-uz05gi"> enquiries@berrys.com</span></div> <div class="overlay svelte-uz05gi" id="overlay"></div> <div class="sub-header-container svelte-uz05gi"><div class="sub-header svelte-uz05gi"><img alt="Cross-drop graphic" class="subheader-image svelte-uz05gi"> <h1 class="svelte-uz05gi">Cross-drop prevention</h1> <span class="svelte-uz05gi">Midas Elbow prevents unloading errors by detecting the product before its dropped into the underground storage tank. View prevented contamination instances below, either live or by custom search fields.</span></div> <div class="breadcrumb svelte-uz05gi"><a class="svelte-uz05gi">Home</a> / <span class="svelte-uz05gi">Cross-drop prevention</span></div></div> <main class="cross-drop-page svelte-uz05gi"><div class="main-container svelte-uz05gi"><button class="toggle-search-btn svelte-uz05gi"><label for="search-fields" class="search-label svelte-uz05gi">Search <span style="font-size:1rem" class="svelte-uz05gi"> </span></label></button> <div><label for="ST-address" class="svelte-uz05gi">Address</label> <input type="text" id="ST-address" name="ST-address" autocomplete="off" class="svelte-uz05gi"> <!> <!> <label for="Zip" class="svelte-uz05gi">Zip</label> <input type="text" id="Zip" name="Zip" autocomplete="off" class="svelte-uz05gi"> <label for="Date" class="svelte-uz05gi">Date</label> <input type="date" id="Date" name="Date" autocomplete="off" placeholder="DD.MM.YYYY" class="svelte-uz05gi"> <label for="Fuel" class="svelte-uz05gi">Fuel</label> <input type="text" id="Fuel" name="Fuel" autocomplete="off" class="svelte-uz05gi"> <div class="button-container svelte-uz05gi"><button class="search-button svelte-uz05gi">Search</button> <button class="clear-button svelte-uz05gi">Clear</button></div></div> <div class="table-header svelte-uz05gi"><div class="live-status svelte-uz05gi"><div class="toggle-live svelte-uz05gi"><label for="table-type" class="table-type svelte-uz05gi">LIVE <span class="live-indicator svelte-uz05gi"></span></label></div> <label for="table-type" class="table-type svelte-uz05gi"><span id="current-datetime" class="current-time svelte-uz05gi"></span></label></div> <div class="export-dropdown svelte-uz05gi"><button class="export-button svelte-uz05gi">Export As ▼</button> <div class="dropdown-content svelte-uz05gi" id="exportDropdown"><a href=" " class="svelte-uz05gi">CSV</a> <a href=" " class="svelte-uz05gi">PDF</a></div></div></div> <div class="data-container svelte-uz05gi"><table class="desktop-view svelte-uz05gi"><thead class="svelte-uz05gi"><tr class="svelte-uz05gi"><th class="svelte-uz05gi">Date</th><th class="svelte-uz05gi">Time</th><th class="svelte-uz05gi">Zip</th><th class="svelte-uz05gi">Prevented Delivery</th></tr></thead><tbody class="svelte-uz05gi"><!></tbody></table> <div class="mobile-card-view svelte-uz05gi"><!></div></div></div></main> <footer class="svelte-uz05gi"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-uz05gi"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-uz05gi">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo" class="svelte-uz05gi"></div></footer>',1);function xa(ye,d){Et(d,!1);let q=$(),he=$();const be=ea(aa).url.pathname;let W=$(!1);function ze(e){ta(`${f}/deliveryDetail/${e.zip}`,{state:{from:be,address:e.address,city:e.city,state:e.state,date:e.date,time:e.time,siteCode:e.zip}})}function H(e){if(!e)return"";const c=new Date(e).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,".");return console.log(c),c}function ae(){p(W,!t(W))}function Ge(){const e=document.getElementById("hamburger-menu"),s=document.getElementById("mobile-sidebar"),c=document.getElementById("overlay");e.addEventListener("click",function(){s.classList.toggle("active"),c.style.display=s.classList.contains("active")?"block":"none"}),c.addEventListener("click",function(){s.classList.remove("active"),c.style.display="none"}),s.querySelectorAll("a").forEach(i=>{i.addEventListener("click",function(){s.classList.remove("active"),c.style.display="none"})})}let A=[],y=$([]),k=$([]),n=$({address:"",state:"",city:"",zip:"",date:"",fuel:""});function se(e){return e%2===0?"row-even":"row-odd"}function G(){p(y,A.filter(e=>{const s=!t(n).address||e.address&&e.address.toLowerCase().includes(t(n).address.toLowerCase()),c=!t(n).state||e.state&&e.state.toLowerCase().includes(t(n).state.toLowerCase()),h=!t(n).city||e.city&&e.city.toLowerCase().includes(t(n).city.toLowerCase()),i=!t(n).zip||e.zip&&e.zip.toString().includes(t(n).zip),o=!t(n).date||e.date&&e.date.includes(H(t(n).date)),D=!t(n).fuel||e.preventedDelivery&&e.preventedDelivery.toLowerCase().includes(t(n).fuel.toLowerCase());return s&&c&&h&&i&&o&&D})),p(k,Array(t(y).length).fill(!1)),V()}function Ie(){p(n,{address:"",state:"",city:"",zip:"",date:"",fuel:""}),p(y,[...A]),p(k,Array(t(y).length).fill(!1)),V(!0)}function ie(e){if(!e)return"";const[s,c,h]=e.split("."),i=new Date(h,s-1,c);if(isNaN(i.getTime()))return e;const o=new Date;if((o-i)/(1e3*60)<=30)return"Just now";if(i.getDate()===o.getDate()&&i.getMonth()===o.getMonth()&&i.getFullYear()===o.getFullYear())return"Today";const b=new Date(o);if(b.setDate(o.getDate()-1),i.getDate()===b.getDate()&&i.getMonth()===b.getMonth()&&i.getFullYear()===b.getFullYear())return"Yesterday";const z=new Date(o);if(z.setDate(o.getDate()-2),i.getDate()===z.getDate()&&i.getMonth()===z.getMonth()&&i.getFullYear()===z.getFullYear())return"Two days ago";const E={year:"numeric",month:"long",day:"numeric"};return i.toLocaleDateString("en-US",E)}function le(e){let s=[...t(k)];s[e]=!s[e],p(k,s)}function M(){const e=document.getElementById("current-datetime");if(e){const s=new Date,c={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};e.textContent=s.toLocaleDateString("en-US",c)}}function V(e=!1){const s=document.querySelector(".toggle-live");!e&&Oe()?s.style.display="none":s.style.display="block"}function Oe(){return Object.values(t(n)).some(e=>e.trim()!=="")}function re(){document.getElementById("exportDropdown").classList.toggle("show")}function ne(){const s=document.querySelector("table").cloneNode(!0);s.querySelectorAll(".more-details").forEach(m=>{m.parentNode.textContent=""});const h=s.querySelectorAll("tr");let i=[];const o=[];h[0].querySelectorAll("th").forEach(m=>{o.push(m.textContent.trim())}),i.push(o.join(","));for(let m=1;m<h.length;m++){const N=[];h[m].querySelectorAll("td").forEach(C=>{let L=C.textContent.trim().replace(/"/g,'""');N.push(`"${L}"`)}),N.length>0&&i.push(N.join(","))}const S=i.join(`
`),b=new Blob([S],{type:"text/csv;charset=utf-8;"}),z=new Date,E=z.toISOString().split("T")[0],T=z.toTimeString().split(" ")[0].replace(/:/g,"-"),J=`${document.location.pathname.includes("vehicle-logging")?"vehicle_logging":"cross-drops"}_${E}_${T}.csv`;if("showSaveFilePicker"in window){async function m(){try{const B=await(await window.showSaveFilePicker({suggestedName:J,types:[{description:"CSV File",accept:{"text/csv":[".csv"]}}]})).createWritable();await B.write(b),await B.close()}catch(N){N.name!=="AbortError"&&O()}}m()}else O();function O(){const m=document.createElement("a");m.href=URL.createObjectURL(b),m.setAttribute("download",J),document.body.appendChild(m),m.click(),document.body.removeChild(m)}}async function I(){try{const{jsPDF:e}=window.jspdf;if(!e)throw new Error("jsPDF library not found");const s=new e;s.setFont("helvetica","bold"),s.setFontSize(16),s.text("Cross Drops Prevention Data",14,15);const c=new Date().toLocaleString();s.setFontSize(10),s.setFont("helvetica","normal"),s.text(`Generated: ${c}`,14,25);const h=document.querySelector("table");if(!h)throw new Error("Table not found");const i=h.cloneNode(!0);i.querySelectorAll(".more-details").forEach(E=>{const T=E.closest("td, th");T&&(T.textContent="")}),s.autoTable({html:i,startY:30,styles:{fontSize:8,cellPadding:2,overflow:"linebreak",halign:"center"},headStyles:{fillColor:[1,75,150],textColor:255,fontSize:8,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[234,243,252]},margin:{top:30}});const D=new Date,S=D.toISOString().split("T")[0],b=D.toTimeString().split(" ")[0].replace(/:/g,"-"),z=`cross_drops_${S}_${b}.pdf`;if("showSaveFilePicker"in window)try{const T=await(await window.showSaveFilePicker({suggestedName:z,types:[{description:"PDF File",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await T.write(s.output("blob")),await T.close()}catch(E){console.error("File save error:",E),oe(s,z)}else oe(s,z);return!0}catch(e){return console.error("PDF generation failed:",e),!1}}function oe(e,s){e.save(s)}function _e(e){if(!e.target.matches(".export-button"))for(var s=document.getElementsByClassName("dropdown-content"),c=0;c<s.length;c++){var h=s[c];h.classList.contains("show")&&h.classList.remove("show")}}Qt(async()=>{Ge(),M(),kt(),A=await ra(),p(y,[...A]),p(k,Array(A.length).fill(!1)),p(q,[...new Set(A.map(s=>s.state).filter(s=>s&&s.trim()!==""))]),p(he,[...new Set(A.map(s=>s.city).filter(s=>s&&s.trim()!==""))]),kt();const e=setInterval(M,1e3);return window.addEventListener("click",_e),()=>{clearInterval(e),window.removeEventListener("click",_e)}}),wt();var U=fa();Ut(e=>{var s=da();Wt.title="Cross-drops",Ae(12),w(e,s)});var Z=ue(U),g=r(Z),X=a(r(g),2),j=r(X);Jt(j,`      background: url(${f??""}/svg/Vector_1.svg) no-repeat left center; mask-image: url(${f??""}/svg/Vector_1.svg'); -webkit-mask-image: url(${f??""}/svg/Vector_1.svg);`);var De=a(j,4);_(De,"href",`${f??""}/home`);var Ye=a(De,2);_(Ye,"href",`${f??""}/inventory`);var qe=a(Ye,2);_(qe,"href",`${f??""}/vehicle-logging`);var We=a(qe,2);_(We,"href",`${f??""}/site-data`);var Ue=a(We,2);_(Ue,"href",`${f??""}/analytics`);var Lt=a(Ue,4);_(Lt,"src",`${f??""}/images/Midas_Link_logo.png`),l(X),l(g),l(Z);var $e=a(Z,2),Ze=r($e);_(Ze,"href",`${f??""}/home`);var Je=a(Ze,2);_(Je,"href",`${f??""}/vehicle-logging`);var Ke=a(Je,2);_(Ke,"href",`${f??""}/cross-drops`);var Qe=a(Ke,2);_(Qe,"href",`${f??""}/site-data`);var et=a(Qe,2);_(et,"href",`${f??""}/inventory`);var At=a(et,2);_(At,"href",`${f??""}/analytics`),Ae(2),l($e);var xe=a($e,4),Pe=r(xe),Ct=r(Pe);_(Ct,"src",`${f??""}/images/Cross-drop graphic.png`),Ae(4),l(Pe);var tt=a(Pe,2),Gt=r(tt);_(Gt,"href",`${f??""}/home`),Ae(2),l(tt),l(xe);var Fe=a(xe,2),at=r(Fe),ke=r(at),st=r(ke),it=a(r(st)),It=r(it,!0);l(it),l(st),l(ke);var Se=a(ke,2);let lt;var Ee=a(r(Se),2);me(Ee);var rt=a(Ee,2);St(rt,{id:"State",label:"State",get options(){return t(q)},get value(){return t(n).state},set value(e){ee(n,t(n).state=e)},$$events:{keydown:e=>{e.key==="Enter"&&G()}},$$legacy:!0});var nt=a(rt,2);St(nt,{id:"City",label:"City",get options(){return t(he)},get value(){return t(n).city},set value(e){ee(n,t(n).city=e)},$$events:{keydown:e=>{e.key==="Enter"&&G()}},$$legacy:!0});var Te=a(nt,4);me(Te);var Ne=a(Te,4);me(Ne);var we=a(Ne,4);me(we);var ot=a(we,2),dt=r(ot),Ot=a(dt,2);l(ot),l(Se);var Re=a(Se,2),ct=a(r(Re),2),vt=r(ct),ut=a(vt,2),pt=r(ut),$t=a(pt,2);l(ut),l(ct),l(Re);var gt=a(Re,2),He=r(gt),mt=a(r(He)),xt=r(mt);{var Pt=e=>{var s=zt(),c=ue(s);je(c,1,()=>t(y),Be,(h,i,o)=>{var D=va(),S=ue(D),b=r(S),z=r(b,!0);l(b);var E=a(b),T=r(E,!0);l(E);var P=a(E),J=r(P,!0);l(P);var O=a(P),m=r(O,!0);l(O),l(S);var N=a(S,2);{var B=C=>{var L=ca(),de=r(L),Le=a(r(de),2),F=r(Le),R=a(F,4),ce=a(R,4),K=a(ce,2),Me=a(K,4);l(Le),l(de);var Q=a(de),Ve=r(Q);l(Q),l(L),Y(ve=>{ge(L,1,`details-row ${ve??""}`,"svelte-uz05gi"),v(F,`${t(i).date??""} | ${(t(i).time||"")??""} `),v(R,` ${(t(i).address||"")??""}, ${(t(i).city||"")??""} ${(t(i).state||"")??""} | ${(t(i).zip||"")??""} `),v(ce,` ${(t(i).tankGrade||"")??""} | `),v(K,` ${(t(i).tankNo||"")??""} `),v(Me,` ${(t(i).preventedDelivery||"")??""}`)},[()=>se(o)],pe),u("click",Ve,()=>ze(t(i))),u("click",L,()=>le(o)),w(C,L)};Ce(N,C=>{t(k)[o]&&C(B)})}Y((C,L)=>{ge(S,1,`main-row ${C??""} ${t(k)[o]?"hover-row":""}`,"svelte-uz05gi"),v(z,L),v(T,t(i).time),v(J,t(i).zip),v(m,t(i).preventedDelivery)},[()=>se(o),()=>ie(t(i).date)],pe),u("click",S,()=>le(o)),w(h,D)}),w(e,s)},Ft=e=>{var s=ua();w(e,s)};Ce(xt,e=>{t(y).length>0?e(Pt):e(Ft,!1)})}l(mt),l(He);var ft=a(He,2),Rt=r(ft);{var Ht=e=>{var s=zt(),c=ue(s);je(c,1,()=>t(y),Be,(h,i,o)=>{var D=ga(),S=r(D),b=r(S),z=r(b),E=r(z,!0);l(z),l(b);var T=a(b,2),P=r(T),J=r(P);l(P);var O=a(P,2),m=r(O);l(O);var N=a(O,2),B=r(N);l(N);var C=a(N,2),L=r(C,!0);l(C),l(T),l(S);var de=a(S,2);{var Le=F=>{var R=pa(),ce=a(r(R),4),K=r(ce),Me=r(K);l(K);var Q=a(K,2),Ve=a(r(Q));l(Q);var ve=a(Q,2),bt=a(r(ve)),Xt=a(bt,2);l(ve);var Xe=a(ve,2),jt=a(r(Xe));l(Xe);var Bt=a(Xe,2);l(ce),l(R),Y(()=>{v(Me,`${t(i).date??""} | ${(t(i).time||"")??""}`),v(Ve,` ${(t(i).address||"")??""}, ${(t(i).city||"")??""} ${(t(i).state||"")??""} | ${(t(i).zip||"")??""}`),v(bt,` ${(t(i).tankGrade||"")??""} | `),v(Xt,` ${(t(i).tankNo||"")??""}`),v(jt,` ${t(i).preventedDelivery??""}`)}),u("click",Bt,()=>ze(t(i))),w(F,R)};Ce(de,F=>{t(k)[o]&&F(Le)})}l(D),Y((F,R)=>{ge(D,1,`card ${F??""}`,"svelte-uz05gi"),v(E,R),v(J,`Tank: T${t(i).tankNo??""}`),v(m,`Fuel: ${t(i).preventedDelivery??""}`),v(B,`Zip: ${t(i).zip??""}`),v(L,t(k)[o]?"▲":"▼")},[()=>se(o),()=>ie(t(i).date)==="Just now"?"Just now":`${ie(t(i).date)} ${t(i).time}`],pe),u("click",D,()=>le(o)),w(h,D)}),w(e,s)},Mt=e=>{var s=ma();w(e,s)};Ce(Rt,e=>{t(y).length>0?e(Ht):e(Mt,!1)})}l(ft),l(gt),l(at),l(Fe);var yt=a(Fe,2),ht=r(yt),Vt=a(r(ht),2);return _(Vt,"src",`${f??""}/images/logo.png`),l(ht),l(yt),Y(e=>{v(It,t(W)?"▲":"▼"),lt=ge(Se,1,"search-fields svelte-uz05gi",null,lt,e)},[()=>({visible:t(W)})],pe),u("click",ke,ae),fe(Ee,()=>t(n).address,e=>ee(n,t(n).address=e)),u("keydown",Ee,e=>{e.key==="Enter"&&G()}),fe(Te,()=>t(n).zip,e=>ee(n,t(n).zip=e)),u("keydown",Te,e=>{e.key==="Enter"&&G()}),fe(Ne,()=>t(n).date,e=>ee(n,t(n).date=e)),u("keydown",Ne,e=>{e.key==="Enter"&&G()}),fe(we,()=>t(n).fuel,e=>ee(n,t(n).fuel=e)),u("keydown",we,e=>{e.key==="Enter"&&G()}),u("click",dt,G),u("click",Ot,Ie),u("click",vt,re),u("click",pt,_t(ne)),u("click",$t,_t(I)),w(ye,U),Nt(d,"updateDateTime",M),Tt({updateDateTime:M})}export{xa as component,$a as universal};
