import{t as Y,a as A,c as Qe,d as et}from"../chunks/CocFs6eK.js";import"../chunks/ClARjmOt.js";import{a7 as tt,f as te,o as t,a8 as at,ag as st,s as l,c as o,ay as L,x as ae,ai as j,ah as Le,r as i,af as Me,q as Ne}from"../chunks/DWlsrHwt.js";import{s as h}from"../chunks/Edq7UoV7.js";import{i as Pe}from"../chunks/CZ3wgx69.js";import{e as lt,i as rt}from"../chunks/Do8ADqC-.js";import{h as ot}from"../chunks/DF6SKYI1.js";import{s as y,r as M}from"../chunks/C9a7eXMe.js";import{b as N,s as Ee}from"../chunks/snf6WRiT.js";import{e as T}from"../chunks/CR918XBR.js";import{i as it}from"../chunks/CfjprkxD.js";import{o as nt}from"../chunks/BKRSteQH.js";import{b as q}from"../chunks/DyjCed5z.js";const ct=!0,$t=Object.freeze(Object.defineProperty({__proto__:null,prerender:ct},Symbol.toStringTag,{value:"Module"}));async function dt(){try{const v=await fetch("/table_data/vehicle_logging.json");if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);return await v.json()}catch(v){console.error("Error fetching Vehicle Data:",v);const r=new XMLHttpRequest;r.open("GET","table_data/vehicle_logging.json",!0),r.onload=function(){if(r.status===200)try{const f=JSON.parse(r.responseText);resolveConfig(f)}catch(f){console.error("Error parsing JSON:",f),showErrorMessage()}else console.error("XHR error:",r.status),showErrorMessage()},r.onerror=function(){console.error("XHR error occurred"),showErrorMessage()},r.send()}}function vt(v){if(!v)return"";const[r,f,w]=v.split("."),n=new Date(w,r-1,f);if(isNaN(n.getTime()))return v;const a=new Date;if((a-n)/(1e3*60)<=30)return"Just now";if(n.getDate()===a.getDate()&&n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear())return"Today";const C=new Date(a);if(C.setDate(a.getDate()-1),n.getDate()===C.getDate()&&n.getMonth()===C.getMonth()&&n.getFullYear()===C.getFullYear())return"Yesterday";const k=new Date(a);if(k.setDate(a.getDate()-2),n.getDate()===k.getDate()&&n.getMonth()===k.getMonth()&&n.getFullYear()===k.getFullYear())return"Two days ago";const B={year:"numeric",month:"long",day:"numeric"};return n.toLocaleDateString("en-US",B)}function Ie(){const v=new Date,r={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};document.getElementById("current-datetime").textContent=v.toLocaleDateString("en-US",r)}function ft(){document.querySelectorAll(".search-fields input").forEach(r=>{const f=r.id+"_"+Math.random().toString(36).substring(2,9);r.setAttribute("name",f),(r.id==="State"||r.id==="Zip"||r.id==="Date"||r.id==="ST-address"||r.id==="City"||r.id==="Fuel")&&(r.setAttribute("autocomplete","new-password"),r.setAttribute("data-lpignore","true"),r.setAttribute("data-form-type","other"))})}var mt=Qe('<meta charset="UTF-8" class="svelte-jwqfxm"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-jwqfxm"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-jwqfxm"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-jwqfxm"> <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-jwqfxm"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-jwqfxm"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-jwqfxm"><\/script>',1),ut=Y('<tr><td colspan="4" class="details-cell svelte-jwqfxm"><div class="details-header svelte-jwqfxm">Details:</div> <div class="details-content svelte-jwqfxm"> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Trailer No.:</span> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Full Address:</span> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Delivered:</span> <span class="label svelte-jwqfxm">Tank:</span> </div></td></tr>'),pt=Y('<tr><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td></tr> <!>',1),ht=Y('<tr class="svelte-jwqfxm"><td colspan="4" style="text-align: center; padding: 20px;" class="svelte-jwqfxm">No results found</td></tr>'),wt=Y('<header class="svelte-jwqfxm"><div class="header-container svelte-jwqfxm"><div class="top-header svelte-jwqfxm"><a class="top-header-link svelte-jwqfxm" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-jwqfxm" href=" ">Contact Us</a></div> <div class="header svelte-jwqfxm"><div class="header-background svelte-jwqfxm"></div> <a class="svelte-jwqfxm">Home</a> <a class="svelte-jwqfxm">Inventory</a> <a class="svelte-jwqfxm">Cross-drop</a> <a class="svelte-jwqfxm">Site Data</a> <a class="svelte-jwqfxm">Analytics</a> <input type="text" placeholder="Search..." class="svelte-jwqfxm"> <img alt="Berrys Logo" class="svelte-jwqfxm"></div></div></header> <div class="sub-header-container svelte-jwqfxm"><div class="sub-header svelte-jwqfxm"><h1 class="svelte-jwqfxm">Vehicle Logging</h1> <span class="svelte-jwqfxm">Access key information on each trailer, with real-time access to deliveries,  focusing on trailer ID. See where trailers are located, what they are <br class="svelte-jwqfxm">delivering or a full log on delivery history.</span></div> <div class="breadcrumb svelte-jwqfxm"><a class="svelte-jwqfxm">Home</a> / <span class="svelte-jwqfxm">Vehicle Logging</span></div></div> <main class="svelte-jwqfxm"><div class="main-container svelte-jwqfxm"><label for="search-fields" class="search-label svelte-jwqfxm">Search</label> <div class="search-fields svelte-jwqfxm"><label for="ST-address" class="svelte-jwqfxm">Address</label> <input type="text" id="ST-address" name="ST-address" class="svelte-jwqfxm"> <label for="State" class="svelte-jwqfxm">State</label> <input type="text" id="State" name="State" class="svelte-jwqfxm"> <label for="City" class="svelte-jwqfxm">City</label> <input type="text" id="City" name="City" class="svelte-jwqfxm"> <label for="Trailer_No" class="svelte-jwqfxm">Trailer No</label> <input type="text" id="Trailer_No" name="Trailer_No" class="svelte-jwqfxm"> <label for="Date" class="svelte-jwqfxm">Date</label> <input type="text" id="Date" name="Date" placeholder="DD/MM/YYYY" class="svelte-jwqfxm"> <label for="Fuel" class="svelte-jwqfxm">Fuel</label> <input type="text" id="Fuel" name="Fuel" class="svelte-jwqfxm"></div> <div class="button-container svelte-jwqfxm"><button class="search-button svelte-jwqfxm">Search</button> <button class="clear-button svelte-jwqfxm">Clear</button></div> <div class="table-header svelte-jwqfxm"><div class="live-status svelte-jwqfxm"><div class="toggle-live svelte-jwqfxm"><label for="table-type" class="table-type svelte-jwqfxm">LIVE <span class="live-indicator svelte-jwqfxm"></span></label></div> <label for="table-type" class="table-type svelte-jwqfxm"><span id="current-datetime" class="current-time svelte-jwqfxm"></span></label></div> <div class="export-dropdown svelte-jwqfxm"><button class="export-button svelte-jwqfxm">Export As â–¼</button> <div class="dropdown-content svelte-jwqfxm" id="exportDropdown"><a href=" " class="svelte-jwqfxm">CSV</a> <a href=" " class="svelte-jwqfxm">PDF</a></div></div></div> <table class="svelte-jwqfxm"><thead class="svelte-jwqfxm"><tr class="svelte-jwqfxm"><th class="svelte-jwqfxm">Date</th><th class="svelte-jwqfxm">Time</th><th class="svelte-jwqfxm">City</th><th class="svelte-jwqfxm">Vehicle ID</th><th class="svelte-jwqfxm">Prevented Delivery</th></tr></thead><tbody class="svelte-jwqfxm"><!></tbody></table></div></main> <footer class="svelte-jwqfxm"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-jwqfxm"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-jwqfxm">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo" class="svelte-jwqfxm"></div></footer>',1);function At(v,r){tt(r,!1);let f=[],w=ae([]),n=ae([]),a=ae({address:"",state:"",city:"",trailer:"",date:"",fuel:""});function R(e){return e%2===0?"row-even":"row-odd"}function se(){j(w,f.filter(e=>{const s=!t(a).address||e.Address&&e.Address.toLowerCase().includes(t(a).address.toLowerCase()),g=!t(a).state||e.State&&e.State.toLowerCase().includes(t(a).state.toLowerCase()),b=!t(a).city||e.City&&e.City.toLowerCase().includes(t(a).city.toLowerCase()),c=!t(a).trailer||e["Trailer No."]&&e["Trailer No."].toLowerCase().includes(t(a).trailer.toLowerCase()),m=!t(a).date||e.Date&&e.Date.includes(t(a).date),x=!t(a).fuel||e["Prevented Delivery "]&&e["Prevented Delivery "].toLowerCase().includes(t(a).fuel.toLowerCase());return s&&g&&b&&c&&m&&x})),j(n,Array(t(w).length).fill(!1)),oe()}function C(){console.log("clearing"),j(a,{address:"",state:"",city:"",trailer:"",date:"",fuel:""}),console.log(t(a)),j(w,[...f]),j(n,Array(t(w).length).fill(!1)),oe(!0)}function k(){showDropdown=!showDropdown}function B(){const e=document.querySelectorAll(".search-fields input");return Array.from(e).some(s=>s.value.trim()!=="")}function le(e){let s=[...t(n)];s[e]=!s[e],j(n,s)}function Ve(){const s=document.querySelector("table").querySelectorAll("tr");let g=[];const b=[];s[0].querySelectorAll("th").forEach(d=>{b.push(d.textContent.trim())}),g.push(b.join(","));for(let d=1;d<s.length;d++){const p=[];s[d].querySelectorAll("td").forEach(V=>{let ee=V.textContent.trim().replace(/"/g,'""');p.push(`"${ee}"`)}),p.length>0&&g.push(p.join(","))}const m=g.join(`
`),x=new Blob([m],{type:"text/csv;charset=utf-8;"}),u=new Date,_=u.toISOString().split("T")[0],F=u.toTimeString().split(" ")[0].replace(/:/g,"-"),I=`${document.location.pathname.includes("vehicle-logging")?"vehicle_logging":"site_data"}_${_}_${F}.csv`;if("showSaveFilePicker"in window){async function d(){try{const P=await(await window.showSaveFilePicker({suggestedName:I,types:[{description:"CSV File",accept:{"text/csv":[".csv"]}}]})).createWritable();await P.write(x),await P.close()}catch(p){p.name!=="AbortError"&&$()}}d()}else $();function $(){const d=document.createElement("a");d.href=URL.createObjectURL(x),d.setAttribute("download",I),document.body.appendChild(d),d.click(),document.body.removeChild(d)}}async function Ye(){const{jsPDF:e}=window.jspdf,s=new e,g=document.querySelector("table");s.setFont("helvetica","bold"),s.setFontSize(16),s.text("Cross Drop Prevention Data",14,15);const b=new Date().toLocaleString();s.setFontSize(10),s.setFont("helvetica","normal"),s.text(`Generated: ${b}`,14,25),s.autoTable({html:g,startY:30,styles:{fontSize:8,cellPadding:2,overflow:"linebreak",halign:"center"},headStyles:{fillColor:[1,75,150],textColor:255,fontSize:8,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[234,243,252]},margin:{top:30}});const c=new Date,m=c.toISOString().split("T")[0],x=c.toTimeString().split(" ")[0].replace(/:/g,"-"),u=`cross_drop_data_${m}_${x}.pdf`,_=new Blob([s.output("blob")],{type:"application/pdf"});if("showSaveFilePicker"in window)try{const D=await(await window.showSaveFilePicker({suggestedName:u,types:[{description:"PDF File",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await D.write(_),await D.close()}catch(F){F.name!=="AbortError"&&re(s,u)}else re(s,u)}function re(e,s){e.save(s)}function oe(e=!1){const s=document.querySelector(".toggle-live");s&&(!e&&B()?s.style.display="none":s.style.display="block")}nt(async()=>{Ie(),ft(),console.log("Starting data fetch");try{const s=await dt();console.log("Data fetched:",s),f=s,j(w,[...f]),j(n,Array(f.length).fill(!1))}catch(s){console.error("Failed to load data:",s)}const e=setInterval(Ie,1e3);return()=>{clearInterval(e)}}),it();var ie=wt();ot(e=>{var s=mt();st.title="Vehicle Logging",Le(12),A(e,s)});var O=te(ie),ne=o(O),ce=l(o(ne),2),de=l(o(ce),2);y(de,"href",`${q??""}/home`);var ve=l(de,2);y(ve,"href",`${q??""}/inventory`);var fe=l(ve,2);y(fe,"href",`${q??""}/cross-drops`);var me=l(fe,2);y(me,"href",`${q??""}/site-data`);var ue=l(me,2);y(ue,"href",`${q??""}/analytics`);var Re=l(ue,4);y(Re,"src",`${q??""}/images/Midas_Link_logo.png`),i(ce),i(ne),i(O);var z=l(O,2),pe=l(o(z),2),Be=o(pe);y(Be,"href",`${q??""}/home`),Le(2),i(pe),i(z);var H=l(z,2),he=o(H),U=l(o(he),2),G=l(o(U),2);M(G);var J=l(G,4);M(J);var X=l(J,4);M(X);var W=l(X,4);M(W);var Z=l(W,4);M(Z);var we=l(Z,4);M(we),i(U);var K=l(U,2),ge=o(K),Oe=l(ge,2);i(K);var Q=l(K,2),xe=l(o(Q),2),be=o(xe),je=l(be,2),ye=o(je),ze=l(ye,2);i(je),i(xe),i(Q);var qe=l(Q,2),_e=l(o(qe)),He=o(_e);{var Ue=e=>{var s=et(),g=te(s);lt(g,1,()=>t(w),rt,(b,c,m)=>{var x=pt(),u=te(x),_=o(u),F=o(_,!0);i(_);var D=l(_),I=o(D,!0);i(D);var $=l(D),d=o($,!0);i($);var p=l($),P=o(p,!0);i(p);var V=l(p),ee=o(V,!0);i(V),i(u);var Xe=l(u,2);{var We=E=>{var S=ut(),Te=o(S),Ce=l(o(Te),2),ke=o(Ce),Fe=l(ke,4),$e=l(Fe,4),Ae=l($e,4),Ze=l(Ae,2);i(Ce),i(Te),i(S),Me(Ke=>{Ee(S,1,`details-row ${Ke??""}`,"svelte-jwqfxm"),h(ke,`${t(c).Date??""} | ${(t(c).Time||"")??""} `),h(Fe,` ${(t(c)["Trailer No."]||"")??""} `),h($e,` ${(t(c).Address||"")??""} , ${t(c).City??""} ${t(c).State??""} `),h(Ae,` ${(t(c)["Prevented Delivery "]||"")??""} | `),h(Ze,` T${(t(c)["Tank No. "]||"")??""}`)},[()=>R(m)],Ne),T("click",S,()=>le(m)),A(E,S)};Pe(Xe,E=>{t(n)[m]&&E(We)})}Me((E,S)=>{Ee(u,1,`main-row ${E??""} ${t(n)[m]?"hover-row":""}`,"svelte-jwqfxm"),h(F,S),h(I,t(c).Time),h(d,t(c).City),h(P,t(c)["Trailer No."]),h(ee,t(c)["Prevented Delivery "])},[()=>R(m),()=>vt(t(c).Date)],Ne),T("click",u,()=>le(m)),A(b,x)}),A(e,s)},Ge=e=>{var s=ht();A(e,s)};Pe(He,e=>{t(w).length>0?e(Ue):e(Ge,!1)})}i(_e),i(qe),i(he),i(H);var De=l(H,2),Se=o(De),Je=l(o(Se),2);y(Je,"src",`${q??""}/images/logo.png`),i(Se),i(De),N(G,()=>t(a).address,e=>L(a,t(a).address=e)),N(J,()=>t(a).state,e=>L(a,t(a).state=e)),N(X,()=>t(a).city,e=>L(a,t(a).city=e)),N(W,()=>t(a).trailer,e=>L(a,t(a).trailer=e)),N(Z,()=>t(a).date,e=>L(a,t(a).date=e)),N(we,()=>t(a).fuel,e=>L(a,t(a).fuel=e)),T("click",ge,se),T("click",Oe,C),T("click",be,k),T("click",ye,Ve),T("click",ze,Ye),A(v,ie),at()}export{At as component,$t as universal};
