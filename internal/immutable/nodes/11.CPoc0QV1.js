import{t as M,a as y,c as Ze,d as Ke}from"../chunks/CocFs6eK.js";import"../chunks/ClARjmOt.js";import{a7 as Qe,f as G,o as e,a8 as We,ag as et,s as a,c as r,ay as b,x as Z,ai as h,ah as Te,r as o,af as Ce,q as Me}from"../chunks/DWlsrHwt.js";import{s as f}from"../chunks/Edq7UoV7.js";import{i as ke}from"../chunks/CZ3wgx69.js";import{e as tt,i as st}from"../chunks/Do8ADqC-.js";import{h as at}from"../chunks/DF6SKYI1.js";import{s as p,r as _}from"../chunks/C9a7eXMe.js";import{b as D,s as Le}from"../chunks/snf6WRiT.js";import{e as g}from"../chunks/CR918XBR.js";import{i as lt}from"../chunks/CfjprkxD.js";import{o as rt}from"../chunks/BKRSteQH.js";import{b as w}from"../chunks/BsRk2V3u.js";const ot=!0,Ct=Object.freeze(Object.defineProperty({__proto__:null,prerender:ot},Symbol.toStringTag,{value:"Module"}));async function it(){try{const v=await fetch("/table_data/vehicle_logging.json");if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);return await v.json()}catch(v){console.error("Error fetching Vehicle Data:",v);const l=new XMLHttpRequest;l.open("GET","table_data/vehicle_logging.json",!0),l.onload=function(){if(l.status===200)try{const d=JSON.parse(l.responseText);resolveConfig(d)}catch(d){console.error("Error parsing JSON:",d),showErrorMessage()}else console.error("XHR error:",l.status),showErrorMessage()},l.onerror=function(){console.error("XHR error occurred"),showErrorMessage()},l.send()}}function nt(v){if(!v)return"";const[l,d,m]=v.split("."),n=new Date(m,l-1,d);if(isNaN(n.getTime()))return v;const s=new Date;if((s-n)/(1e3*60)<=30)return"Just now";if(n.getDate()===s.getDate()&&n.getMonth()===s.getMonth()&&n.getFullYear()===s.getFullYear())return"Today";const j=new Date(s);if(j.setDate(s.getDate()-1),n.getDate()===j.getDate()&&n.getMonth()===j.getMonth()&&n.getFullYear()===j.getFullYear())return"Yesterday";const q=new Date(s);if(q.setDate(s.getDate()-2),n.getDate()===q.getDate()&&n.getMonth()===q.getMonth()&&n.getFullYear()===q.getFullYear())return"Two days ago";const L={year:"numeric",month:"long",day:"numeric"};return n.toLocaleDateString("en-US",L)}function Ae(){const v=new Date,l={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};document.getElementById("current-datetime").textContent=v.toLocaleDateString("en-US",l)}function ct(){document.querySelectorAll(".search-fields input").forEach(l=>{const d=l.id+"_"+Math.random().toString(36).substring(2,9);l.setAttribute("name",d),(l.id==="State"||l.id==="Zip"||l.id==="Date"||l.id==="ST-address"||l.id==="City"||l.id==="Fuel")&&(l.setAttribute("autocomplete","new-password"),l.setAttribute("data-lpignore","true"),l.setAttribute("data-form-type","other"))})}var vt=Ze('<meta charset="UTF-8" class="svelte-jwqfxm"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-jwqfxm"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-jwqfxm"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-jwqfxm"> <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-jwqfxm"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-jwqfxm"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-jwqfxm"><\/script>',1),dt=M('<tr><td colspan="4" class="details-cell svelte-jwqfxm"><div class="details-header svelte-jwqfxm">Details:</div> <div class="details-content svelte-jwqfxm"> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Trailer No.:</span> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Full Address:</span> <br class="svelte-jwqfxm"> <span class="label svelte-jwqfxm">Delivered:</span> <span class="label svelte-jwqfxm">Tank:</span> </div></td></tr>'),ft=M('<tr><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td><td class="svelte-jwqfxm"> </td></tr> <!>',1),mt=M('<tr class="svelte-jwqfxm"><td colspan="4" style="text-align: center; padding: 20px;" class="svelte-jwqfxm">No results found</td></tr>'),ut=M('<header class="svelte-jwqfxm"><div class="header-container svelte-jwqfxm"><div class="top-header svelte-jwqfxm"><a class="top-header-link svelte-jwqfxm" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-jwqfxm" href=" ">Contact Us</a></div> <div class="header svelte-jwqfxm"><div class="header-background svelte-jwqfxm"></div> <a class="svelte-jwqfxm">Home</a> <a class="svelte-jwqfxm">Inventory</a> <a class="svelte-jwqfxm">Cross-drop</a> <a class="svelte-jwqfxm">Site Data</a> <a class="svelte-jwqfxm">Analytics</a> <input type="text" placeholder="Search..." class="svelte-jwqfxm"> <img alt="Berrys Logo" class="svelte-jwqfxm"></div></div></header> <div class="sub-header-container svelte-jwqfxm"><div class="sub-header svelte-jwqfxm"><h1 class="svelte-jwqfxm">Vehicle Logging</h1> <span class="svelte-jwqfxm">Access key information on each trailer, with real-time access to deliveries,  focusing on trailer ID. See where trailers are located, what they are <br class="svelte-jwqfxm">delivering or a full log on delivery history.</span></div> <div class="breadcrumb svelte-jwqfxm"><a class="svelte-jwqfxm">Home</a> / <span class="svelte-jwqfxm">Vehicle Logging</span></div></div> <main class="svelte-jwqfxm"><div class="main-container svelte-jwqfxm"><label for="search-fields" class="search-label svelte-jwqfxm">Search</label> <div class="search-fields svelte-jwqfxm"><label for="ST-address" class="svelte-jwqfxm">Address</label> <input type="text" id="ST-address" name="ST-address" class="svelte-jwqfxm"> <label for="State" class="svelte-jwqfxm">State</label> <input type="text" id="State" name="State" class="svelte-jwqfxm"> <label for="City" class="svelte-jwqfxm">City</label> <input type="text" id="City" name="City" class="svelte-jwqfxm"> <label for="Trailer_No" class="svelte-jwqfxm">Trailer No</label> <input type="text" id="Trailer_No" name="Trailer_No" class="svelte-jwqfxm"> <label for="Date" class="svelte-jwqfxm">Date</label> <input type="text" id="Date" name="Date" placeholder="DD/MM/YYYY" class="svelte-jwqfxm"> <label for="Fuel" class="svelte-jwqfxm">Fuel</label> <input type="text" id="Fuel" name="Fuel" class="svelte-jwqfxm"></div> <div class="button-container svelte-jwqfxm"><button class="search-button svelte-jwqfxm">Search</button> <button class="clear-button svelte-jwqfxm">Clear</button></div> <div class="table-header svelte-jwqfxm"><div class="live-status svelte-jwqfxm"><div class="toggle-live svelte-jwqfxm"><label for="table-type" class="table-type svelte-jwqfxm">LIVE <span class="live-indicator svelte-jwqfxm"></span></label></div> <label for="table-type" class="table-type svelte-jwqfxm"><span id="current-datetime" class="current-time svelte-jwqfxm"></span></label></div> <div class="export-dropdown svelte-jwqfxm"><button class="export-button svelte-jwqfxm">Export As â–¼</button> <div class="dropdown-content svelte-jwqfxm" id="exportDropdown"><a href=" " class="svelte-jwqfxm">CSV</a> <a href=" " class="svelte-jwqfxm">PDF</a></div></div></div> <table class="svelte-jwqfxm"><thead class="svelte-jwqfxm"><tr class="svelte-jwqfxm"><th class="svelte-jwqfxm">Date</th><th class="svelte-jwqfxm">Time</th><th class="svelte-jwqfxm">City</th><th class="svelte-jwqfxm">Vehicle ID</th><th class="svelte-jwqfxm">Prevented Delivery</th></tr></thead><tbody class="svelte-jwqfxm"><!></tbody></table></div></main> <footer class="svelte-jwqfxm"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-jwqfxm"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-jwqfxm">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo" class="svelte-jwqfxm"></div></footer>',1);function Mt(v,l){Qe(l,!1);let d=[],m=Z([]),n=Z([]),s=Z({address:"",state:"",city:"",trailer:"",date:"",fuel:""});function k(t){return t%2===0?"row-even":"row-odd"}function K(){h(m,d.filter(t=>{const i=!e(s).address||t.Address&&t.Address.toLowerCase().includes(e(s).address.toLowerCase()),B=!e(s).state||t.State&&t.State.toLowerCase().includes(e(s).state.toLowerCase()),O=!e(s).city||t.City&&t.City.toLowerCase().includes(e(s).city.toLowerCase()),c=!e(s).trailer||t["Trailer No."]&&t["Trailer No."].toLowerCase().includes(e(s).trailer.toLowerCase()),u=!e(s).date||t.Date&&t.Date.includes(e(s).date),C=!e(s).fuel||t["Prevented Delivery "]&&t["Prevented Delivery "].toLowerCase().includes(e(s).fuel.toLowerCase());return i&&B&&O&&c&&u&&C})),h(n,Array(e(m).length).fill(!1)),W()}function j(){console.log("clearing"),h(s,{address:"",state:"",city:"",trailer:"",date:"",fuel:""}),console.log(e(s)),h(m,[...d]),h(n,Array(e(m).length).fill(!1)),W(!0)}function q(){showDropdown=!showDropdown}function L(){const t=document.querySelectorAll(".search-fields input");return Array.from(t).some(i=>i.value.trim()!=="")}function Q(t){let i=[...e(n)];i[t]=!i[t],h(n,i)}function W(t=!1){const i=document.querySelector(".toggle-live");i&&(!t&&L()?i.style.display="none":i.style.display="block")}rt(async()=>{Ae(),ct(),console.log("Starting data fetch");try{const i=await it();console.log("Data fetched:",i),d=i,h(m,[...d]),h(n,Array(d.length).fill(!1))}catch(i){console.error("Failed to load data:",i)}const t=setInterval(Ae,1e3);return()=>{clearInterval(t)}}),lt();var ee=ut();at(t=>{var i=vt();et.title="Vehicle Logging",Te(12),y(t,i)});var A=G(ee),te=r(A),se=a(r(te),2),ae=a(r(se),2);p(ae,"href",`${w??""}/home`);var le=a(ae,2);p(le,"href",`${w??""}/inventory`);var re=a(le,2);p(re,"href",`${w??""}/cross-drops`);var oe=a(re,2);p(oe,"href",`${w??""}/site-data`);var ie=a(oe,2);p(ie,"href",`${w??""}/analytics`);var $e=a(ie,4);p($e,"src",`${w??""}/images/Midas_Link_logo.png`),o(se),o(te),o(A);var $=a(A,2),ne=a(r($),2),Fe=r(ne);p(Fe,"href",`${w??""}/home`),Te(2),o(ne),o($);var F=a($,2),ce=r(F),N=a(r(ce),2),E=a(r(N),2);_(E);var I=a(E,4);_(I);var V=a(I,4);_(V);var Y=a(V,4);_(Y);var P=a(Y,4);_(P);var ve=a(P,4);_(ve),o(N);var H=a(N,2),de=r(H),Ne=a(de,2);o(H);var R=a(H,2),fe=a(r(R),2),me=r(fe),ue=a(me,2),he=r(ue),Ee=a(he,2);o(ue),o(fe),o(R);var pe=a(R,2),we=a(r(pe)),Ie=r(we);{var Ve=t=>{var i=Ke(),B=G(i);tt(B,1,()=>e(m),st,(O,c,u)=>{var C=ft(),S=G(C),U=r(S),He=r(U,!0);o(U);var J=a(U),Re=r(J,!0);o(J);var X=a(J),Be=r(X,!0);o(X);var z=a(X),Oe=r(z,!0);o(z);var je=a(z),Ue=r(je,!0);o(je),o(S);var Je=a(S,2);{var Xe=T=>{var x=dt(),qe=r(x),ye=a(r(qe),2),be=r(ye),_e=a(be,4),De=a(_e,4),Se=a(De,4),ze=a(Se,2);o(ye),o(qe),o(x),Ce(Ge=>{Le(x,1,`details-row ${Ge??""}`,"svelte-jwqfxm"),f(be,`${e(c).Date??""} | ${(e(c).Time||"")??""} `),f(_e,` ${(e(c)["Trailer No."]||"")??""} `),f(De,` ${(e(c).Address||"")??""} , ${e(c).City??""} ${e(c).State??""} `),f(Se,` ${(e(c)["Prevented Delivery "]||"")??""} | `),f(ze,` T${(e(c)["Tank No. "]||"")??""}`)},[()=>k(u)],Me),g("click",x,()=>Q(u)),y(T,x)};ke(Je,T=>{e(n)[u]&&T(Xe)})}Ce((T,x)=>{Le(S,1,`main-row ${T??""} ${e(n)[u]?"hover-row":""}`,"svelte-jwqfxm"),f(He,x),f(Re,e(c).Time),f(Be,e(c).City),f(Oe,e(c)["Trailer No."]),f(Ue,e(c)["Prevented Delivery "])},[()=>k(u),()=>nt(e(c).Date)],Me),g("click",S,()=>Q(u)),y(O,C)}),y(t,i)},Ye=t=>{var i=mt();y(t,i)};ke(Ie,t=>{e(m).length>0?t(Ve):t(Ye,!1)})}o(we),o(pe),o(ce),o(F);var xe=a(F,2),ge=r(xe),Pe=a(r(ge),2);p(Pe,"src",`${w??""}/images/logo.png`),o(ge),o(xe),D(E,()=>e(s).address,t=>b(s,e(s).address=t)),D(I,()=>e(s).state,t=>b(s,e(s).state=t)),D(V,()=>e(s).city,t=>b(s,e(s).city=t)),D(Y,()=>e(s).trailer,t=>b(s,e(s).trailer=t)),D(P,()=>e(s).date,t=>b(s,e(s).date=t)),D(ve,()=>e(s).fuel,t=>b(s,e(s).fuel=t)),g("click",de,K),g("click",Ne,j),g("click",me,q),g("click",he,exportTableToCSV),g("click",Ee,exportTableToPDF),y(v,ee),We()}export{Mt as component,Ct as universal};
